
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>7.3.1. Binary: Mirror &#8212; Eclipse eCAL™</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../_static/collapsible-lists/css/tree_view.css?v=a885cde7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/bignums.css?v=9f114507" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/sphinx-book-theme-1.1.2-ecaladdon.css?v=cdea9536" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/tabs-3.4.5-ecaladdon.css?v=558f29d2" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=a401138a"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../../../_static/collapsible-lists/js/CollapsibleLists.compressed.js?v=73120307"></script>
    <script src="../../../_static/collapsible-lists/js/apply-collapsible-lists.js?v=660e4f45"></script>
    <script src="../../../_static/tabs.js?v=3030b3cb"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'getting_started/howto/clientserver/binary_mirror';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://eclipse-ecal.github.io/ecal/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'v999.0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <link rel="icon" href="../../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="7.3.2. Protobuf: Math" href="protobuf_math.html" />
    <link rel="prev" title="7.3. Service: Client &amp; Server" href="../clientserver.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/ecal-logo.svg" class="logo__image only-light" alt="Eclipse eCAL™ - Home"/>
    <script>document.write(`<img src="../../../_static/ecal-logo.svg" class="logo__image only-dark" alt="Eclipse eCAL™ - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup.html">2. Installing eCAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples.html">3. eCAL Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../network.html">4. Network configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services.html">5. eCAL Services</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../applications.html">6. Applications</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../monitor.html">6.1.  Monitor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../recorder.html">6.2.  Recorder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../player.html">6.3.  Player</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sys.html">6.4.  Sys</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../howto.html">7. HowTo: Writing eCAL Sample Applications</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../setup.html">7.1. Development Setup</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../setup/cpp.html">7.1.1. C/C++ Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup/python.html">7.1.2. Python Setup</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../pubsub.html">7.2. Pubsub: Publisher &amp; Subscriber</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../pubsub/binary_blob.html">7.2.1. Binary: Blob</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pubsub/string_hello_world.html">7.2.2. String: Hello World</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pubsub/protobuf_person.html">7.2.3. Protobuf: Person</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pubsub/capnproto_addressbook.html">7.2.4. Cap’n Proto: AddressBook</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pubsub/flatbuffers_monster.html">7.2.5. FlatBuffers: Monster</a></li>
</ul>
</details></li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="../clientserver.html">7.3. Service: Client &amp; Server</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3 current active"><a class="current reference internal" href="#">7.3.1. Binary: Mirror</a></li>
<li class="toctree-l3"><a class="reference internal" href="protobuf_math.html">7.3.2. Protobuf: Math</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html">7.4. Runtime Configuration</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../development/build_ecal.html">Building eCAL</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../development/building_ecal_from_source.html">Default Build from Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development/ecal_cmake_options.html">CMake options</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../ecal_api.html">eCAL API</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../_api/ecal_root.html">C++</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/namespace_eCAL.html">Namespace eCAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/namespace_eCAL__Config.html">Namespace eCAL::Config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/namespace_eCAL__eh5.html">Namespace eCAL::eh5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/namespace_eCAL__eh5__v2.html">Namespace eCAL::eh5::v2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/namespace_eCAL__eh5__v3.html">Namespace eCAL::eh5::v3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/namespace_eCAL__Init.html">Namespace eCAL::Init</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/namespace_eCAL__Logging.html">Namespace eCAL::Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/namespace_eCAL__Monitoring.html">Namespace eCAL::Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/namespace_eCAL__Process.html">Namespace eCAL::Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/namespace_eCAL__Registration.html">Namespace eCAL::Registration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/namespace_eCAL__Time.html">Namespace eCAL::Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/namespace_eCAL__Util.html">Namespace eCAL::Util</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/namespace_std.html">Namespace std</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/structeCAL_1_1Registration_1_1SServiceMethod.html">Struct SServiceMethod</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/structeCAL_1_1SDataTypeInformation.html">Struct SDataTypeInformation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/structeCAL_1_1SEntityId.html">Struct SEntityId</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/structeCAL_1_1SVersion.html">Struct SVersion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/classCDynamicSleeper.html">Class CDynamicSleeper</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/classeCAL_1_1CTimer.html">Class CTimer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/classeCAL_1_1eh5_1_1v3_1_1HDF5Meas.html">Class HDF5Meas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/classeCAL_1_1eh5_1_1v2_1_1HDF5Meas.html">Class HDF5Meas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/classeCAL_1_1eh5_1_1v3_1_1HDF5Meas.html">Class HDF5Meas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/classstd_1_1hash_3_01eCAL_1_1SDataTypeInformation_01_4.html">Template Class hash&lt; eCAL::SDataTypeInformation &gt;</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/enum_log__level_8h_1a26836a3eb06b0d47712353cc3afa320e.html">Enum eLogLevel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/enum_process__severity_8h_1adfbf566f466697438dd0f26d66c4f1f0.html">Enum eSeverity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/enum_process__severity_8h_1a917a843b57411c9ab3bbe4a16e517685.html">Enum eSeverityLevel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/enum_process__mode_8h_1a1b07cc8c396021bf85eedc7f95ac91f6.html">Enum eStartMode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/enum_registration_8h_1ab47a7f2404314ea349d4c14d261c969c.html">Enum RegistrationEventType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1ab602f6c8307b53fe6826d7618ac9f465.html">Function eCAL::Config::GetDropOutOfOrderMessages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a00f593fbed5a932d13d95e5d670fa27d.html">Function eCAL::Config::GetEcalSysFilterExcludeList</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1af5b58da0cab93d96828ae51f56da08c2.html">Function eCAL::Config::GetLoadedEcalIniPath</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1ae2fa1793150cbce526ab0b81e1773f7b.html">Function eCAL::Config::GetRegistrationRefreshMs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a313807e5364233c84ae52d3a2ab10211.html">Function eCAL::Config::GetRegistrationTimeoutMs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a3253931786d5bbb82c458c56d9b2a767.html">Function eCAL::Config::GetShmMonitoringDomain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1ad65c848628fc2d115f4e056b873ade5c.html">Function eCAL::Config::GetShmMonitoringQueueSize</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a3547edc9480cee6d3609de3f34c96d6e.html">Function eCAL::Config::GetShmTransportDomain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a9e6cb0ba42fa6e1e34e206db76ed3a7c.html">Function eCAL::Config::GetTcpPubsubMaxReconnectionAttemps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a28dc0ed11f2d0d590e814564149ccbc7.html">Function eCAL::Config::GetTcpPubsubReaderThreadpoolSize</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a2e3b5b06cd934db1bfac0d8ac6a42766.html">Function eCAL::Config::GetTcpPubsubWriterThreadpoolSize</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a17f9beaa8ba91d129ff79a54d000aac3.html">Function eCAL::Config::GetTerminalEmulatorCommand</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a7875526efc52849923edea4bef3e8bd7.html">Function eCAL::Config::GetTimesyncModuleName</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a34788e9a78694a85db014b235b24e22f.html">Function eCAL::Config::GetTimesyncModuleReplay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1aded02ac11bd3e730dc73364201cd3763.html">Function eCAL::Config::GetUdpMulticastConfigVersion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1ad7c6f9ae2980c91c846a4b3de2de0497.html">Function eCAL::Config::GetUdpMulticastGroup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1aeba95f86d1e601f1cb58487a5318c616.html">Function eCAL::Config::GetUdpMulticastMask</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a150fae520c5ad7d7ba814fde8527946f.html">Function eCAL::Config::GetUdpMulticastPort</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1aefc58fe7084b3912745ab0e9d77a3f91.html">Function eCAL::Config::GetUdpMulticastRcvBufSizeBytes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1aa30495547ba254caba3e6ed57a164fde.html">Function eCAL::Config::GetUdpMulticastSndBufSizeBytes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1aed3e5a8a68ac9c231951b80aabdbedf7.html">Function eCAL::Config::GetUdpMulticastTtl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a082ee8766ff051566a4fc4eeb0ca4a70.html">Function eCAL::Config::IsNetworkEnabled</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1af4eb2b0687288b44e2e363ab8b15a80b.html">Function eCAL::Config::IsNpcapEnabled</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a22e6a81fbd3e1a5bb0c32e5f0bfa69aa.html">Function eCAL::Config::IsShmRecEnabled</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1abc29e28d23c50389f7eea6e111385197.html">Function eCAL::Config::IsShmRegistrationEnabled</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a5163d960ca5891f6cca4303709565265.html">Function eCAL::Config::IsTcpRecEnabled</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1abda92e1cc50e7f3c3b65acf8765e344d.html">Function eCAL::Config::IsUdpMulticastJoinAllIfEnabled</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_config_8h_1a159d41c9cf64a883becf2b2c5a8a099e.html">Function eCAL::Config::IsUdpMulticastRecEnabled</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_namespaceeCAL_1a6342e514137136747e6339844b25e432.html">Function eCAL::Finalize</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_namespaceeCAL_1a169429eab7f48217f42788539dcefc50.html">Function eCAL::GetConfiguration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_namespaceeCAL_1a9d09c60252170dc4f76642b3614601a4.html">Function eCAL::GetPublisherConfiguration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_namespaceeCAL_1a10ea0c3e7fa5782486a856c4dca4fac8.html">Function eCAL::GetSubscriberConfiguration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_namespaceeCAL_1a023307ac7027db8288093a3fc11d15e9.html">Function eCAL::GetVersion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_namespaceeCAL_1ad027f42b3111e3da85cb106f32fc9002.html">Function eCAL::GetVersionDateString</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_namespaceeCAL_1ad1aee2f354dcb72366f8cb6754c8b8ea.html">Function eCAL::GetVersionString</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_init_8h_1ad66464b016b00e2a1f42854b02128185.html">Function eCAL::Init::Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_namespaceeCAL_1af8f14107926964a1ab750dab13634b39.html">Function eCAL::Initialize(const std::string&amp;, unsigned int)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_namespaceeCAL_1a30834f2dd3dbab8e0734c79b2aaf9bb4.html">Function eCAL::Initialize(eCAL::Configuration&amp;, const std::string&amp;, unsigned int)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_namespaceeCAL_1a439b87d67679bce153704bc95d4b30de.html">Function eCAL::IsInitialized()</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_namespaceeCAL_1a043fea4cd0b2793a63c1de5830bf382c.html">Function eCAL::IsInitialized(unsigned int)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_log_8h_1a29c44b3b7bd43c2bf19db99d21e91887.html">Function eCAL::Logging::GetLogging(std::string&amp;)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_log_8h_1a4933524c4a46c77a8a3a6c19a005897b.html">Function eCAL::Logging::GetLogging(Logging::SLogging&amp;)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_log_8h_1ac41d3c193623d4ad374f71172adf8333.html">Function eCAL::Logging::Log</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_monitoring_8h_1a8fc01a83c0f83d744ed293860ecf618c.html">Function eCAL::Monitoring::GetMonitoring(std::string&amp;, unsigned int)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_monitoring_8h_1ae47a3d85663687e7089d60c5b57e4816.html">Function eCAL::Monitoring::GetMonitoring(SMonitoring&amp;, unsigned int)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_namespaceeCAL_1a600033b0736069b66b026b5bc39cab35.html">Function eCAL::Ok</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_namespaceeCAL_1ad71540560ae36e358ab43699cd7f4c31.html">Function eCAL::operator&lt;&lt;</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1a024a270c580d40fe8e59455226ddbf75.html">Function eCAL::Process::DumpConfig()</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1a6ea34958542106657a76e88ce57f02a3.html">Function eCAL::Process::DumpConfig(std::string&amp;)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1a95b9db2927425fbebf3806848aa5569d.html">Function eCAL::Process::GetHostName</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1adf71bf1cf68bc4e60e99c8239b84a3b4.html">Function eCAL::Process::GetProcessID</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1ad68fe00ed0f44db2eabfbc66d83ac8c0.html">Function eCAL::Process::GetProcessIDAsString</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1a1bd6f1de7741b587e38a0b0901515c66.html">Function eCAL::Process::GetProcessName</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1af6171b04474f055c5107345b49486d0d.html">Function eCAL::Process::GetProcessParameter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1ad2ed2f1d43d5affe5e1c90a416076885.html">Function eCAL::Process::GetShmTransportDomain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1afc61c90f8cbc35b0ffc7d77590d945c3.html">Function eCAL::Process::GetUnitName</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1ab71cb241a071ecd87bb2a3c56fa98972.html">Function eCAL::Process::SetState</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1ab768762f3d5bc844ce0b025ad19c4c4a.html">Template Function eCAL::Process::SleepFor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1aaca4e4230ea147783192e7f2aa9dddfd.html">Function eCAL::Process::SleepMS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1a9db72d7191ea478d8b0e87e3169af959.html">Function eCAL::Process::SleepNS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1ab7cede90a9849704a5eeb78a55996409.html">Function eCAL::Process::StartProcess</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1ae10fb357ad61ec8a60e43ff60d62f385.html">Function eCAL::Process::StopProcess(const char *)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_process_8h_1a4a018d810e332159ef33990e9203fc6b.html">Function eCAL::Process::StopProcess(int)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1a52830559ad50e4300339e50e837e9111.html">Function eCAL::Registration::AddPublisherEventCallback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1a4deeeb38b0b23b0180fda68eb7c631ee.html">Function eCAL::Registration::AddSubscriberEventCallback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1af3ad589704c0e97b0739c30cf29eb86b.html">Function eCAL::Registration::GetClientIDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1a92cc9006d02ed7c62a83e9be25c215a9.html">Function eCAL::Registration::GetClientInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1a6997c1fa88c40f4774eeb3574654be41.html">Function eCAL::Registration::GetClientMethodNames</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1a0781dfa082b2096e8ff5f681ace31f80.html">Function eCAL::Registration::GetPublishedTopicNames</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1a8161755d913fa1ae385e1c6787f032b0.html">Function eCAL::Registration::GetPublisherIDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1a17035589529f59e0d6fdc17186b6fc26.html">Function eCAL::Registration::GetPublisherInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1aa9efa915f51aa256cdaac21a977e2338.html">Function eCAL::Registration::GetServerIDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1ae4ec2ee57f59859576dcc8e0afc051fc.html">Function eCAL::Registration::GetServerInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1a5a44a79cddbcffda747576eee8aa83fc.html">Function eCAL::Registration::GetServerMethodNames</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1add69a1577f5702987d9843ffe794d370.html">Function eCAL::Registration::GetSubscribedTopicNames</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1ade1ad2a10de5483ff0893e34006f1303.html">Function eCAL::Registration::GetSubscriberIDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1ad63e05588b1f6436b92cbb34d817ecbf.html">Function eCAL::Registration::GetSubscriberInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1a32d0524e5d48924312037910dcf646c9.html">Function eCAL::Registration::RemPublisherEventCallback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_registration_8h_1ae1ae721b779dbc76a0a6f3ce7e3a9f80.html">Function eCAL::Registration::RemSubscriberEventCallback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_time_8h_1ab6d9d1b4bef72c120b3dc9935047ffda.html">Function eCAL::Time::GetMicroSeconds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_time_8h_1a4b28a0713a0d421c95328a1bc0d56498.html">Function eCAL::Time::GetName</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_time_8h_1a58d1b5790d3a79c5cc664449af9569c8.html">Function eCAL::Time::GetNanoSeconds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_time_8h_1ab49ab0c0adb1c27325e3cd9c07f06c3d.html">Function eCAL::Time::GetStatus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_time_8h_1ac8f3ede210605457aa8239cb578a1157.html">Function eCAL::Time::IsMaster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_time_8h_1a5d8e04b1b940df2739fbf78d34306fd4.html">Function eCAL::Time::IsSynchronized</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_time_8h_1a9757b9a8a143a99d9e23fb1a9728ab84.html">Function eCAL::Time::SetNanoSeconds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_time_8h_1a189586f0e0772f9562da20e7e449a898.html">Template Function eCAL::Time::sleep_for</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_time_8h_1ada92c9fde160e167be93706d38dc39ef.html">Function eCAL::Time::SleepForNanoseconds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_util_8h_1ac9378c61f24c4ecc9b9b6bb9407bcc73.html">Function eCAL::Util::CombinedTopicEncodingAndType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_util_8h_1aabef4cb2047f923399ec627c608b67d9.html">Function eCAL::Util::GeteCALDataDir</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_util_8h_1a9b7923317d18713517480ecda7955a04.html">Function eCAL::Util::GeteCALLogDir</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_util_8h_1a26640bb79b62d9caf0c99352aa7105e0.html">Function eCAL::Util::ShutdownProcess(const std::string&amp;)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_util_8h_1ad1b49f4aa10627b97ef9ab8db2e3c5e9.html">Function eCAL::Util::ShutdownProcess(int)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_util_8h_1a2c04e3730ba3cf15dcd0da57e785aa1d.html">Function eCAL::Util::ShutdownProcesses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_util_8h_1a3e46bbf1cd07e6a70d315488f71ddb11.html">Function eCAL::Util::SplitCombinedTopicType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_ecaltime_8h_1a0f8a78bd198d73f1151f062be5c49ac2.html">Function etime_finalize</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_ecaltime_8h_1a87b9ce1ab9a3b2efedfee904d0724411.html">Function etime_get_nanoseconds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_ecaltime_8h_1a306e7ee7378f7047c680293c8c0b8052.html">Function etime_get_status</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_ecaltime_8h_1a38cbc3be2b54d74505358388e1098863.html">Function etime_initialize</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_ecaltime_8h_1a02bcea8ff347dd681136e83de3fcd3f7.html">Function etime_is_master</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_ecaltime_8h_1ac72f625e34980b0c4181390cbcb6fb29.html">Function etime_is_synchronized</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_ecaltime_8h_1ac833665286a425fe84565538fcdf2e68.html">Function etime_set_nanoseconds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/function_ecaltime_8h_1aa5a87891aab403cda09159c98dc8d967.html">Function etime_sleep_for_nanoseconds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/variable_init_8h_1a5dfdf37b132f8995de0992d5c30c2e39.html">Variable eCAL::Init::All</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/variable_init_8h_1ab82498a1e66de8562868e50a2cad2f3d.html">Variable eCAL::Init::Default</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/variable_init_8h_1a22080445d470b45111073af0b9462e65.html">Variable eCAL::Init::Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/variable_init_8h_1aa32d3dce6b6237764db6f9547331f2f2.html">Variable eCAL::Init::Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/variable_init_8h_1a1c65619950fd101e27ae92d79221968a.html">Variable eCAL::Init::None</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/variable_init_8h_1a96226489a8c78215b97cac83986e8c51.html">Variable eCAL::Init::Publisher</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/variable_init_8h_1a9b44961cef266f679dee2331899a6f83.html">Variable eCAL::Init::Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/variable_init_8h_1ad5f6f7138a1c19b5c5176fe6e77ddd73.html">Variable eCAL::Init::Subscriber</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/variable_init_8h_1a6ff1105112b06ca8e533846703cb51fe.html">Variable eCAL::Init::TimeSync</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_os_8h_1af6e423394b69677025cd7997c3566d77.html">Define ECAL_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_os_8h_1afc0d02175308ccac5bdfb04fa38fe7b7.html">Define ECAL_API_CLASS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_os_8h_1afc0d02175308ccac5bdfb04fa38fe7b7.html">Define ECAL_API_CLASS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_os_8h_1a546b32f89f9cf15da312d39f6252f29e.html">Define ECAL_API_EXPORTED_MEMBER</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_namespace_8h_1a3bf2369bd0acf345358aace636fce2c3.html">Define ECAL_CORE_NAMESPACE_V5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_namespace_8h_1a242e58e407887ec1a8e2aaeaf57a9a16.html">Define ECAL_CORE_NAMESPACE_V6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_deprecate_8h_1ad0fce642e420a9f9d32b34cb1814ea2a.html">Define ECAL_DEPRECATE_SINCE_6_0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_eh5__meas_8h_1ae803c5567ff361b9f9ac4c52ddb59869.html">Define ECAL_EH5_DEPRECATE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_eh5__defs_8h_1accb613e2b9b76ded6bf8ca42b2824c5b.html">Define ECAL_HDF5_DATE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_eh5__defs_8h_1a5fe10ba3f1fa8832219784c6edc73f0d.html">Define ECAL_HDF5_NAME</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_eh5__defs_8h_1a86e5a64f658d9f84dcd42b5a30ed8bfd.html">Define ECAL_HDF5_VERSION</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_eh5__defs_8h_1a1e3b049958f67461359ecf9d9876e461.html">Define ECAL_HDF5_VERSION_MAJOR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_eh5__defs_8h_1a578e5b65d53b5a537f7d90b9d64c0106.html">Define ECAL_HDF5_VERSION_MINOR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_eh5__defs_8h_1a2b1361eb83e2597c992f296441ac20e2.html">Define ECAL_HDF5_VERSION_PATCH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/define_ecaltime_8h_1a7fbc67f7baf03488d730190a9b7df7e5.html">Define ECALTIME_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/typedef_namespaceeCAL_1a155b9cd8eddcadca249b6f5bbf7ad583.html">Typedef eCAL::EntityIdT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/typedef_log__level_8h_1a6c687d0056bbcffcc8adc3ca3ad803da.html">Typedef eCAL::Logging::Filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/typedef_registration_8h_1a31559467ff34c4fda47503952f0bf8c6.html">Typedef eCAL::Registration::CallbackToken</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/typedef_registration_8h_1a409078e35c152905f1e2300b8a0e6b20.html">Typedef eCAL::Registration::TopicEventCallbackT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_api/typedef_namespaceeCAL_1a4807caba9c43983d8989737912a00bd7.html">Typedef eCAL::TimerCallbackT</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Using eCAL</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../configuration.html">Configuration</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../configuration/network.html">Network Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../configuration/local.html">Local configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../configuration/npcap.html"><i class="fab fa-windows"></i> Npcap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../configuration/player.html"><i class="fab fa-ubuntu"></i> Player - Max open files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../configuration/options.html">ecal.yaml</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../applications.html">Applications</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../applications/rec/recorder.html"> eCAL Rec</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../applications/rec/recorder_architecture.html"> eCAL Rec Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../applications/rec/recorder_gui.html"> eCAL Rec GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../applications/rec/recorder_cli.html"> eCAL Rec CLI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../applications/rec/recorder_client.html"> eCAL Rec Client</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../applications/sys/sys.html"> eCAL Sys</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../applications/sys/sys_architecture.html"> eCAL Sys Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../applications/sys/sys_gui.html"> eCAL Sys GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../applications/sys/sys_cli.html"> eCAL Sys CLI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../applications/sys/sys_client.html"> eCAL Sys Client</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../../../applications/meas_cutter/meas_cutter.html">eCAL Measurement Cutter</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq.html">FAQ</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Advanced</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../versions/ecal_versions.html">eCAL Versions</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../versions/compatibility.html">eCAL Compatibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../versions/6.0/whats_new.html">eCAL 6.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../versions/5.13/whats_new.html">eCAL 5.13</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../versions/5.12/whats_new.html">eCAL 5.12</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../versions/5.11/whats_new.html">eCAL 5.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../versions/5.10/whats_new.html">eCAL 5.10</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../versions/5.9/whats_new.html">eCAL 5.9</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../versions/5.8/whats_new.html">eCAL 5.8</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference external" href="https://eclipse-ecal.github.io/ecal/releases/">Downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../versions/6.0/migration_guide.html">eCAL 6 Migration Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../advanced/tutorials.html">Tutorials</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/documentation.html">Edit the documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/ecal_in_docker.html">eCAL in Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development/building_ecal_with_conan_dependencies.html">Building eCAL with Conan dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/rec_distributed_recordings.html">Distributed Recordings with eCAL Rec</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../advanced/ecal_internals.html">eCAL internals</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/performance.html">Performance measurements</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../advanced/transport_layers.html">Transport Layers</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../advanced/layers/shm.html">eCAL SHM Layer</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../advanced/layers/shm_zerocopy.html">eCAL Zero Copy</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../../../advanced/layers/udp_mc.html">eCAL UDP Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../advanced/layers/tcp.html">eCAL TCP Layer</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/message_drops.html">Message Drops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/threading_model.html">Threading model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/measurement_format.html">eCAL Measurement Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/benchmarks.html">eCAL Performance Benchmarks</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced/ros_comparison.html">How eCAL relates to ROS</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../license.html">License</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../license/ecal_license.html">eCAL License</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../license/thirdparty_licenses.html">External components</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/asio.html">asio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/benchmark.html">Benchmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/cap_n_proto.html">Cap’n Proto</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/convert_utf.html">convert_utf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/ecaludp.html">ecaludp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/fineftp_server.html">fineFTP Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/flaticon.html">Flaticon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/ftxui.html">FTXUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/googletest.html">GoogleTest</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/hdf5.html">HDF5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/libcurl.html">libcurl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/modpath_iss.html">modpath.iss</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/nanobind.html">nanobind</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/nanopb.html">nanopb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/npcap.html">Npcap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/pcapplusplus.html">PcapPlusPlus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/protobuf.html">protobuf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/protozero.html">protozero</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/qt.html">Qt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/qwt.html">Qwt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/recycle.html">recycle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/robin_map.html">robin-map</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/spdlog.html">spdlog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/tclap.html">tclap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/tcp_pubsub.html">tcp_pubsub</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/termcolor.html">termcolor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/tinyxml_2.html">TinyXML-2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/udpcap.html">Udpcap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../license/thirdparty_licenses/yaml_cpp.html">yaml-cpp</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../../../license/icon_license.html">Icon License</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/eclipse-ecal/ecal" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/eclipse-ecal/ecal/edit/master/doc/rst/getting_started/howto/clientserver/binary_mirror.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/eclipse-ecal/ecal/issues/new?title=Issue%20on%20page%20%2Fgetting_started/howto/clientserver/binary_mirror.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/getting_started/howto/clientserver/binary_mirror.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Binary: Mirror</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mirror-server">7.3.1.1. Mirror Server</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mirror-client">7.3.1.2. Mirror Client</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="binary-mirror">
<span id="getting-started-howto-clientserver-binary-mirror"></span><h1><span class="section-number">7.3.1. </span>Binary: Mirror<a class="headerlink" href="#binary-mirror" title="Link to this heading">#</a></h1>
<p>Under this section you will find a simple example of a client/server application using the eCAL ClientServer API.
You should be already familiar with the base handling of eCAL from the Publisher/Subscriber samples, so this we will not be covered in detail any more.</p>
<section id="mirror-server">
<h2><span class="section-number">7.3.1.1. </span>Mirror Server<a class="headerlink" href="#mirror-server" title="Link to this heading">#</a></h2>
<p>A service server is an eCAL instance that is matched to service client instances by their name.
It can offer multiple methods, which a connected service client can call.
We will set up a simple server that provides two methods: “echo” and “mirror”.</p>
<p>The main process is:</p>
<ul class="simple">
<li><p>Intialize eCAL</p></li>
<li><p>Create a Service Server</p></li>
<li><p>For each method, add meta information about that method (such as method name, and types of the request and response) and a callback function to be invoked, when a client calls that method</p></li>
<li><p>Keep the program running while the service is supposed to be executed</p></li>
</ul>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-0-Qw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Qw==" name="Qw==" role="tab" tabindex="-1">C</button><button aria-controls="panel-0-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-0-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button><button aria-controls="panel-0-UHl0aG9uIChsZWdhY3kp" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-UHl0aG9uIChsZWdhY3kp" name="UHl0aG9uIChsZWdhY3kp" role="tab" tabindex="-1">Python (legacy)</button></div><div aria-labelledby="tab-0-Qysr" class="sphinx-tabs-panel group-tab" id="panel-0-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ecal/ecal.h&gt;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;algorithm&gt;</span>
<span class="linenos"> 4</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos"> 5</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;chrono&gt;</span>
<span class="linenos"> 6</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;thread&gt;</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="kt">void</span><span class="w"> </span><span class="nf">printCallbackInformation</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">SServiceMethodInformation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">method_info_</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">request_</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">response_</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="p">{</span>
<span class="linenos">10</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Method   : &#39;&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">method_info_</span><span class="p">.</span><span class="n">method_name</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;&#39; called in C++&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos">11</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Request  : &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">request_</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos">12</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Response : &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">response_</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos">13</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos">14</span><span class="p">}</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="cm">/*</span>
<span class="linenos">17</span><span class="cm">  We define the callback function that will be called when a client calls the service method &quot;echo&quot;.</span>
<span class="linenos">18</span><span class="cm">  This callback will simply return the request as the response.</span>
<span class="linenos">19</span><span class="cm">*/</span>
<span class="linenos">20</span><span class="kt">int</span><span class="w"> </span><span class="nf">OnEchoCallback</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">SServiceMethodInformation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">method_info_</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">request_</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">response_</span><span class="p">)</span>
<span class="linenos">21</span><span class="p">{</span>
<span class="linenos">22</span><span class="w">  </span><span class="n">response_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request_</span><span class="p">;</span>
<span class="linenos">23</span>
<span class="linenos">24</span><span class="w">  </span><span class="n">printCallbackInformation</span><span class="p">(</span><span class="n">method_info_</span><span class="p">,</span><span class="w"> </span><span class="n">request_</span><span class="p">,</span><span class="w"> </span><span class="n">response_</span><span class="p">);</span>
<span class="linenos">25</span><span class="w">  </span>
<span class="linenos">26</span><span class="w">  </span><span class="c1">// The return value here has no actual meaning. It&#39;s made available to the caller.</span>
<span class="linenos">27</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">28</span><span class="p">}</span>
<span class="linenos">29</span>
<span class="linenos">30</span><span class="cm">/* </span>
<span class="linenos">31</span><span class="cm">  This callback will be called when a client calls the service method &quot;reverse&quot;.</span>
<span class="linenos">32</span><span class="cm">  It will return the request in reverse order as the response.</span>
<span class="linenos">33</span><span class="cm">*/</span>
<span class="linenos">34</span><span class="kt">int</span><span class="w"> </span><span class="nf">OnReverseCallback</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">SServiceMethodInformation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">method_info_</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">request_</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">response_</span><span class="p">)</span>
<span class="linenos">35</span><span class="p">{</span>
<span class="linenos">36</span><span class="w">  </span><span class="n">response_</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">request_</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
<span class="linenos">37</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">copy</span><span class="p">(</span><span class="n">request_</span><span class="p">.</span><span class="n">rbegin</span><span class="p">(),</span><span class="w"> </span><span class="n">request_</span><span class="p">.</span><span class="n">rend</span><span class="p">(),</span><span class="w"> </span><span class="n">response_</span><span class="p">.</span><span class="n">begin</span><span class="p">());</span>
<span class="linenos">38</span>
<span class="linenos">39</span><span class="w">  </span><span class="n">printCallbackInformation</span><span class="p">(</span><span class="n">method_info_</span><span class="p">,</span><span class="w"> </span><span class="n">request_</span><span class="p">,</span><span class="w"> </span><span class="n">response_</span><span class="p">);</span>
<span class="linenos">40</span>
<span class="linenos">41</span><span class="w">  </span><span class="c1">// The return value here has no actual meaning. It&#39;s made available to the caller.</span>
<span class="linenos">42</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">43</span><span class="p">}</span>
<span class="linenos">44</span>
<span class="linenos">45</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">46</span><span class="p">{</span>
<span class="linenos">47</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;--------------------&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos">48</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; C++: MIRROR SERVER&quot;</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos">49</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;--------------------&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos">50</span>
<span class="linenos">51</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">52</span><span class="cm">    As always: initialize the eCAL API and give your process a name.</span>
<span class="linenos">53</span><span class="cm">  */</span>
<span class="linenos">54</span><span class="w">  </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Initialize</span><span class="p">(</span><span class="s">&quot;mirror server&quot;</span><span class="p">);</span>
<span class="linenos">55</span>
<span class="linenos">56</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;eCAL &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">GetVersionString</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; (&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">GetVersionDateString</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos">57</span><span class="w">  </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">SetState</span><span class="p">(</span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">eSeverity</span><span class="o">::</span><span class="n">healthy</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">eSeverityLevel</span><span class="o">::</span><span class="n">level1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;I feel good!&quot;</span><span class="p">);</span>
<span class="linenos">58</span>
<span class="linenos">59</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">60</span><span class="cm">    Now we create the mirror server and give it the name &quot;mirror&quot;.</span>
<span class="linenos">61</span><span class="cm">  */</span>
<span class="linenos">62</span><span class="w">  </span><span class="n">eCAL</span><span class="o">::</span><span class="n">CServiceServer</span><span class="w"> </span><span class="n">mirror_server</span><span class="p">(</span><span class="s">&quot;mirror&quot;</span><span class="p">);</span>
<span class="linenos">63</span>
<span class="linenos">64</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">65</span><span class="cm">    The server will have two methods: &quot;echo&quot; and &quot;reverse&quot;.</span>
<span class="linenos">66</span><span class="cm">    To set a callback, we need to set a ServiceMethodInformation struct as well as the callback function.</span>
<span class="linenos">67</span><span class="cm">    We simplify the struct creation of ServiceMethodInformationStruct and the other two</span>
<span class="linenos">68</span><span class="cm">    fields can be left empty for our example.</span>
<span class="linenos">69</span><span class="cm">  */</span>
<span class="linenos">70</span><span class="w">  </span><span class="n">mirror_server</span><span class="p">.</span><span class="n">SetMethodCallback</span><span class="p">({</span><span class="w"> </span><span class="s">&quot;echo&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">OnEchoCallback</span><span class="p">);</span>
<span class="linenos">71</span><span class="w">  </span><span class="n">mirror_server</span><span class="p">.</span><span class="n">SetMethodCallback</span><span class="p">({</span><span class="w"> </span><span class="s">&quot;reverse&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">OnReverseCallback</span><span class="p">);</span>
<span class="linenos">72</span>
<span class="linenos">73</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">74</span><span class="cm">    Now we will go in an infinite loop, to wait for incoming service calls that will be handled with the callbacks.</span>
<span class="linenos">75</span><span class="cm">  */</span>
<span class="linenos">76</span><span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="n">eCAL</span><span class="o">::</span><span class="n">Ok</span><span class="p">())</span>
<span class="linenos">77</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">78</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">milliseconds</span><span class="p">(</span><span class="mi">500</span><span class="p">));</span>
<span class="linenos">79</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">80</span>
<span class="linenos">81</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">82</span><span class="cm">    After we are done, as always, finalize the eCAL API.</span>
<span class="linenos">83</span><span class="cm">  */</span>
<span class="linenos">84</span><span class="w">  </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Finalize</span><span class="p">();</span>
<span class="linenos">85</span>
<span class="linenos">86</span><span class="w">  </span><span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">87</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-Qw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Qw==" name="Qw==" role="tabpanel" tabindex="0"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ecal_c/ecal.h&gt;</span>
<span class="linenos">  2</span>
<span class="linenos">  3</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span><span class="c1"> //printf()</span>
<span class="linenos">  4</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string.h&gt;</span><span class="c1"> //memcpy(), memset()</span>
<span class="linenos">  5</span>
<span class="linenos">  6</span><span class="kt">void</span><span class="w"> </span><span class="nf">printCallbackInformation</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceMethodInformation</span><span class="o">*</span><span class="w"> </span><span class="n">method_info_</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">request_</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">request_length_</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">response_</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="o">*</span><span class="w"> </span><span class="n">response_length_</span><span class="p">)</span>
<span class="linenos">  7</span><span class="p">{</span>
<span class="linenos">  8</span><span class="w">   </span><span class="cm">/*</span>
<span class="linenos">  9</span><span class="cm">    The data we get will not be \0 terminated. Hence we need to pass the size to printf.</span>
<span class="linenos"> 10</span><span class="cm">  */</span>
<span class="linenos"> 11</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Method   : &#39;%s&#39; called in C</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">method_info_</span><span class="o">-&gt;</span><span class="n">method_name</span><span class="p">);</span>
<span class="linenos"> 12</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Request  : %.*s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">request_length_</span><span class="p">,</span><span class="w"> </span><span class="n">request_</span><span class="p">);</span>
<span class="linenos"> 13</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Response : %.*s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">*</span><span class="n">response_length_</span><span class="p">,</span><span class="w"> </span><span class="n">response_</span><span class="p">);</span>
<span class="linenos"> 14</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 15</span><span class="p">}</span>
<span class="linenos"> 16</span>
<span class="linenos"> 17</span><span class="cm">/*</span>
<span class="linenos"> 18</span><span class="cm">  We define the callback function that will be called when a client calls the service method &quot;echo&quot;.</span>
<span class="linenos"> 19</span><span class="cm">  This callback will simply return the request as the response.</span>
<span class="linenos"> 20</span><span class="cm">*/</span>
<span class="linenos"> 21</span><span class="kt">int</span><span class="w"> </span><span class="nf">OnEchoCallback</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceMethodInformation</span><span class="o">*</span><span class="w"> </span><span class="n">method_info_</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">request_</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">request_length_</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">**</span><span class="w"> </span><span class="n">response_</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="o">*</span><span class="w"> </span><span class="n">response_length_</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">user_argument_</span><span class="p">)</span>
<span class="linenos"> 22</span><span class="p">{</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">user_argument_</span><span class="p">;</span>
<span class="linenos"> 24</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 26</span><span class="cm">    In order pass the server response properly to the callback API, the underlying memory needs to be allocated </span>
<span class="linenos"> 27</span><span class="cm">    with eCAL_Malloc(). The allocation via eCAL_Malloc() is required as the internal memory handler frees the</span>
<span class="linenos"> 28</span><span class="cm">    resevered memory after callback execution.</span>
<span class="linenos"> 29</span><span class="cm">  */</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="o">*</span><span class="n">response_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eCAL_Malloc</span><span class="p">(</span><span class="n">request_length_</span><span class="p">);</span>
<span class="linenos"> 31</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 33</span><span class="cm">    In case of a failure, the value that response_ points to, remains NULL.</span>
<span class="linenos"> 34</span><span class="cm">  */</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">response_</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="c1">// memory allocation failed</span>
<span class="linenos"> 36</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 38</span><span class="cm">    The length of response buffer needs to be set accordingly</span>
<span class="linenos"> 39</span><span class="cm">  */</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="o">*</span><span class="n">response_length_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request_length_</span><span class="p">;</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 42</span><span class="cm">    In this example the entire request buffer will be copied over to the response buffer.</span>
<span class="linenos"> 43</span><span class="cm">  */</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="n">memcpy</span><span class="p">(</span><span class="o">*</span><span class="n">response_</span><span class="p">,</span><span class="w"> </span><span class="n">request_</span><span class="p">,</span><span class="w"> </span><span class="n">request_length_</span><span class="p">);</span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="n">printCallbackInformation</span><span class="p">(</span><span class="n">method_info_</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">request_</span><span class="p">,</span><span class="w"> </span><span class="n">request_length_</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">)(</span><span class="o">*</span><span class="n">response_</span><span class="p">),</span><span class="w"> </span><span class="n">response_length_</span><span class="p">);</span>
<span class="linenos"> 47</span>
<span class="linenos"> 48</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 49</span><span class="p">}</span>
<span class="linenos"> 50</span>
<span class="linenos"> 51</span><span class="cm">/* </span>
<span class="linenos"> 52</span><span class="cm">  This callback will be called when a client calls the service method &quot;reverse&quot;.</span>
<span class="linenos"> 53</span><span class="cm">  It will return the request in reverse order as the response.</span>
<span class="linenos"> 54</span><span class="cm">*/</span>
<span class="linenos"> 55</span><span class="kt">int</span><span class="w"> </span><span class="nf">OnReverseCallback</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceMethodInformation</span><span class="o">*</span><span class="w"> </span><span class="n">method_info_</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">request_</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">request_length_</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">**</span><span class="w"> </span><span class="n">response_</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="o">*</span><span class="w"> </span><span class="n">response_length_</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">user_argument_</span><span class="p">)</span>
<span class="linenos"> 56</span><span class="p">{</span>
<span class="linenos"> 57</span><span class="w">  </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">user_argument_</span><span class="p">;</span>
<span class="linenos"> 58</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="cm">/* </span>
<span class="linenos"> 60</span><span class="cm">    In order pass the server response properly to the callback API, the underlying memory needs to be allocated </span>
<span class="linenos"> 61</span><span class="cm">    with eCAL_Malloc(). The allocation via eCAL_Malloc() is required as the internal memory handler frees the</span>
<span class="linenos"> 62</span><span class="cm">    resevered memory after callback execution.</span>
<span class="linenos"> 63</span><span class="cm">  */</span>
<span class="linenos"> 64</span><span class="w">  </span><span class="o">*</span><span class="n">response_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eCAL_Malloc</span><span class="p">(</span><span class="n">request_length_</span><span class="p">);</span>
<span class="linenos"> 65</span>
<span class="linenos"> 66</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 67</span><span class="cm">    In case of a failure, the value that response_ points to, remains NULL.</span>
<span class="linenos"> 68</span><span class="cm">  */</span>
<span class="linenos"> 69</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">response_</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="c1">// memory allocation failed</span>
<span class="linenos"> 70</span>
<span class="linenos"> 71</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 72</span><span class="cm">    The length of response buffer needs to be set accordingly</span>
<span class="linenos"> 73</span><span class="cm">  */</span>
<span class="linenos"> 74</span><span class="w">  </span><span class="o">*</span><span class="n">response_length_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request_length_</span><span class="p">;</span>
<span class="linenos"> 75</span>
<span class="linenos"> 76</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">request_</span><span class="p">;</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)(</span><span class="o">*</span><span class="n">response_</span><span class="p">);</span>
<span class="linenos"> 78</span>
<span class="linenos"> 79</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">request_length_</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 80</span><span class="w">    </span><span class="n">response</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">[</span><span class="n">request_length_</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 81</span><span class="w">  </span><span class="p">}</span>
<span class="linenos"> 82</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="n">printCallbackInformation</span><span class="p">(</span><span class="n">method_info_</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">request_</span><span class="p">,</span><span class="w"> </span><span class="n">request_length_</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">)(</span><span class="o">*</span><span class="n">response_</span><span class="p">),</span><span class="w"> </span><span class="n">response_length_</span><span class="p">);</span>
<span class="linenos"> 84</span>
<span class="linenos"> 85</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 86</span><span class="p">}</span>
<span class="linenos"> 87</span>
<span class="linenos"> 88</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 89</span><span class="p">{</span>
<span class="linenos"> 90</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 91</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; C: Mirror Server</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 92</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 93</span>
<span class="linenos"> 94</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 95</span><span class="cm">    Here we already create the objects we want to work with. </span>
<span class="linenos"> 96</span><span class="cm">    Later we will create the server handle and fill the ServiceMethodInformation struct with the required information.</span>
<span class="linenos"> 97</span><span class="cm">  */</span>
<span class="linenos"> 98</span><span class="w">  </span><span class="n">eCAL_ServiceServer</span><span class="w"> </span><span class="o">*</span><span class="n">mirror_server</span><span class="p">;</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceMethodInformation</span><span class="w"> </span><span class="n">echo_method_information</span><span class="p">;</span>
<span class="linenos">100</span><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceMethodInformation</span><span class="w"> </span><span class="n">reverse_method_information</span><span class="p">;</span>
<span class="linenos">101</span>
<span class="linenos">102</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">103</span><span class="cm">    As always: initialize the eCAL API and give your process a name.</span>
<span class="linenos">104</span><span class="cm">  */</span>
<span class="linenos">105</span><span class="w">  </span><span class="n">eCAL_Initialize</span><span class="p">(</span><span class="s">&quot;mirror server c&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="linenos">106</span>
<span class="linenos">107</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;eCAL %s (%s)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL_GetVersionString</span><span class="p">(),</span><span class="w"> </span><span class="n">eCAL_GetVersionDateString</span><span class="p">());</span>
<span class="linenos">108</span><span class="w">  </span><span class="n">eCAL_Process_SetState</span><span class="p">(</span><span class="n">eCAL_Process_eSeverity_healthy</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL_Process_eSeverityLevel_level1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;I feel good!&quot;</span><span class="p">);</span>
<span class="linenos">109</span>
<span class="linenos">110</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">111</span><span class="cm">    Now we create the mirror server and give it the name &quot;mirror&quot;.</span>
<span class="linenos">112</span><span class="cm">  */</span>
<span class="linenos">113</span><span class="w">  </span><span class="n">mirror_server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eCAL_ServiceServer_New</span><span class="p">(</span><span class="s">&quot;mirror&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="linenos">114</span>
<span class="linenos">115</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">116</span><span class="cm">    The server will have two methods: &quot;echo&quot; and &quot;reverse&quot;.</span>
<span class="linenos">117</span><span class="cm">    To set a callback, we need to set a ServiceMethodInformation struct as well as the callback function.</span>
<span class="linenos">118</span><span class="cm">    In our example we will just set the method name of the struct and leave the other two fields empty.</span>
<span class="linenos">119</span><span class="cm">  */</span>
<span class="linenos">120</span><span class="w">  </span><span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">echo_method_information</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceMethodInformation</span><span class="p">));</span>
<span class="linenos">121</span><span class="w">  </span><span class="n">echo_method_information</span><span class="p">.</span><span class="n">method_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;echo&quot;</span><span class="p">;</span>
<span class="linenos">122</span><span class="w">  </span><span class="n">eCAL_ServiceServer_SetMethodCallback</span><span class="p">(</span><span class="n">mirror_server</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">echo_method_information</span><span class="p">,</span><span class="w"> </span><span class="n">OnEchoCallback</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="linenos">123</span>
<span class="linenos">124</span><span class="w">  </span><span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">reverse_method_information</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceMethodInformation</span><span class="p">));</span>
<span class="linenos">125</span><span class="w">  </span><span class="n">reverse_method_information</span><span class="p">.</span><span class="n">method_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;reverse&quot;</span><span class="p">;</span>
<span class="linenos">126</span><span class="w">  </span><span class="n">eCAL_ServiceServer_SetMethodCallback</span><span class="p">(</span><span class="n">mirror_server</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">reverse_method_information</span><span class="p">,</span><span class="w"> </span><span class="n">OnReverseCallback</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="linenos">127</span>
<span class="linenos">128</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">129</span><span class="cm">    Now we will go in an infinite loop, to wait for incoming service calls that will be handled with the callbacks.</span>
<span class="linenos">130</span><span class="cm">  */</span>
<span class="linenos">131</span><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">eCAL_Ok</span><span class="p">())</span>
<span class="linenos">132</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">133</span><span class="w">    </span><span class="n">eCAL_Process_SleepMS</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="linenos">134</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">135</span>
<span class="linenos">136</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">137</span><span class="cm">    When finished, we need to delete the server handle to clean up properly.</span>
<span class="linenos">138</span><span class="cm">  */</span>
<span class="linenos">139</span><span class="w">  </span><span class="n">eCAL_ServiceServer_Delete</span><span class="p">(</span><span class="n">mirror_server</span><span class="p">);</span>
<span class="linenos">140</span>
<span class="linenos">141</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">142</span><span class="cm">    After we are done, as always, finalize the eCAL API.</span>
<span class="linenos">143</span><span class="cm">  */</span>
<span class="linenos">144</span><span class="w">  </span><span class="n">eCAL_Finalize</span><span class="p">();</span>
<span class="linenos">145</span>
<span class="linenos">146</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">147</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">using</span><span class="w"> </span><span class="nn">System</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="k">using</span><span class="w"> </span><span class="nn">System.Text</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="k">using</span><span class="w"> </span><span class="nn">Eclipse.eCAL.Core</span><span class="p">;</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">MirrorServer</span>
<span class="linenos"> 6</span><span class="p">{</span>
<span class="linenos"> 7</span><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">PrintCallbackInformation</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">response</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="w">  </span><span class="p">{</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Method   : &#39;&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;&#39; called in C#&quot;</span><span class="p">);</span>
<span class="linenos">10</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Request  : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="n">GetString</span><span class="p">(</span><span class="n">request</span><span class="p">));</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Response : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="n">GetString</span><span class="p">(</span><span class="n">response</span><span class="p">));</span>
<span class="linenos">12</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">();</span>
<span class="linenos">13</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">16</span><span class="cm">    We define the callback function that will be called when a client calls the service method &quot;echo&quot;.</span>
<span class="linenos">17</span><span class="cm">    This callback will simply return the request as the response.</span>
<span class="linenos">18</span><span class="cm">  */</span>
<span class="linenos">19</span><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="nf">OnEchoCallback</span><span class="p">(</span><span class="n">ServiceMethodInformation</span><span class="w"> </span><span class="n">methodInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">request</span><span class="p">)</span>
<span class="linenos">20</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">21</span><span class="w">    </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">;</span>
<span class="linenos">22</span>
<span class="linenos">23</span><span class="w">    </span><span class="n">PrintCallbackInformation</span><span class="p">(</span><span class="n">methodInfo</span><span class="p">.</span><span class="n">MethodName</span><span class="p">,</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
<span class="linenos">24</span><span class="w">    </span>
<span class="linenos">25</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">response</span><span class="p">;</span>
<span class="linenos">26</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">27</span>
<span class="linenos">28</span><span class="w">  </span><span class="cm">/* </span>
<span class="linenos">29</span><span class="cm">    This callback will be called when a client calls the service method &quot;reverse&quot;.</span>
<span class="linenos">30</span><span class="cm">    It will return the request in reverse order as the response.</span>
<span class="linenos">31</span><span class="cm">  */</span>
<span class="linenos">32</span><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="nf">OnReverseCallback</span><span class="p">(</span><span class="n">ServiceMethodInformation</span><span class="w"> </span><span class="n">methodInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">request</span><span class="p">)</span>
<span class="linenos">33</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">34</span><span class="w">    </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">byte</span><span class="p">[])</span><span class="n">request</span><span class="p">.</span><span class="n">Clone</span><span class="p">();</span>
<span class="linenos">35</span><span class="w">    </span><span class="n">Array</span><span class="p">.</span><span class="n">Reverse</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
<span class="linenos">36</span>
<span class="linenos">37</span><span class="w">    </span><span class="n">PrintCallbackInformation</span><span class="p">(</span><span class="n">methodInfo</span><span class="p">.</span><span class="n">MethodName</span><span class="p">,</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
<span class="linenos">38</span>
<span class="linenos">39</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">response</span><span class="p">;</span>
<span class="linenos">40</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">41</span>
<span class="linenos">42</span><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<span class="linenos">43</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">44</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;-------------------&quot;</span><span class="p">);</span>
<span class="linenos">45</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot; C#: MIRROR SERVER&quot;</span><span class="p">);</span>
<span class="linenos">46</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;-------------------&quot;</span><span class="p">);</span>
<span class="linenos">47</span>
<span class="linenos">48</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos">49</span><span class="cm">      As always: initialize the eCAL API and give your process a name.</span>
<span class="linenos">50</span><span class="cm">    */</span>
<span class="linenos">51</span><span class="w">    </span><span class="n">Core</span><span class="p">.</span><span class="n">Initialize</span><span class="p">(</span><span class="s">&quot;mirror server c#&quot;</span><span class="p">);</span>
<span class="linenos">52</span>
<span class="linenos">53</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span><span class="s">&quot;eCAL {0} ({1})\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Core</span><span class="p">.</span><span class="n">GetVersionString</span><span class="p">(),</span><span class="w"> </span><span class="n">Core</span><span class="p">.</span><span class="n">GetVersionDateString</span><span class="p">()));</span>
<span class="linenos">54</span>
<span class="linenos">55</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos">56</span><span class="cm">      Now we create the mirror server and give it the name &quot;mirror&quot;.</span>
<span class="linenos">57</span><span class="cm">    */</span>
<span class="linenos">58</span><span class="w">    </span><span class="n">ServiceServer</span><span class="w"> </span><span class="n">mirrorServer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ServiceServer</span><span class="p">(</span><span class="s">&quot;mirror&quot;</span><span class="p">);</span>
<span class="linenos">59</span>
<span class="linenos">60</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos">61</span><span class="cm">      The server will have two methods: &quot;echo&quot; and &quot;reverse&quot;.</span>
<span class="linenos">62</span><span class="cm">      To set a callback, we need to set a ServiceMethodInformation struct as well as the callback function.</span>
<span class="linenos">63</span><span class="cm">      In our example we will just set the method name of the struct and leave the other two fields empty.</span>
<span class="linenos">64</span><span class="cm">    */</span>
<span class="linenos">65</span><span class="w">    </span><span class="n">ServiceMethodInformation</span><span class="w"> </span><span class="n">echoMethodInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ServiceMethodInformation</span><span class="p">();</span>
<span class="linenos">66</span><span class="w">    </span><span class="n">echoMethodInfo</span><span class="p">.</span><span class="n">MethodName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;echo&quot;</span><span class="p">;</span>
<span class="linenos">67</span><span class="w">    </span><span class="n">mirrorServer</span><span class="p">.</span><span class="n">SetMethodCallback</span><span class="p">(</span><span class="n">echoMethodInfo</span><span class="p">,</span><span class="w"> </span><span class="n">OnEchoCallback</span><span class="p">);</span>
<span class="linenos">68</span>
<span class="linenos">69</span><span class="w">    </span><span class="n">ServiceMethodInformation</span><span class="w"> </span><span class="n">reverseMethodInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ServiceMethodInformation</span><span class="p">();</span>
<span class="linenos">70</span><span class="w">    </span><span class="n">reverseMethodInfo</span><span class="p">.</span><span class="n">MethodName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;reverse&quot;</span><span class="p">;</span>
<span class="linenos">71</span><span class="w">    </span><span class="n">mirrorServer</span><span class="p">.</span><span class="n">SetMethodCallback</span><span class="p">(</span><span class="n">reverseMethodInfo</span><span class="p">,</span><span class="w"> </span><span class="n">OnReverseCallback</span><span class="p">);</span>
<span class="linenos">72</span>
<span class="linenos">73</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos">74</span><span class="cm">      Now we will go in an infinite loop, to wait for incoming service calls that will be handled with the callbacks.</span>
<span class="linenos">75</span><span class="cm">    */</span>
<span class="linenos">76</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">Core</span><span class="p">.</span><span class="n">Ok</span><span class="p">())</span>
<span class="linenos">77</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">78</span><span class="w">      </span><span class="n">System</span><span class="p">.</span><span class="n">Threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="linenos">79</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">80</span>
<span class="linenos">81</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos">82</span><span class="cm">      When finished, we need to dispose the server to clean up properly.</span>
<span class="linenos">83</span><span class="cm">    */</span>
<span class="linenos">84</span><span class="w">    </span><span class="n">mirrorServer</span><span class="p">.</span><span class="n">Dispose</span><span class="p">();</span>
<span class="linenos">85</span>
<span class="linenos">86</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos">87</span><span class="cm">      After we are done, as always, finalize the eCAL API.</span>
<span class="linenos">88</span><span class="cm">    */</span>
<span class="linenos">89</span><span class="w">    </span><span class="n">Core</span><span class="p">.</span><span class="n">Terminate</span><span class="p">();</span>
<span class="linenos">90</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">91</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="linenos"> 2</span><span class="kn">import</span><span class="w"> </span><span class="nn">textwrap</span>
<span class="linenos"> 3</span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tuple</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="kn">import</span><span class="w"> </span><span class="nn">ecal.nanobind_core</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ecal_core</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="k">def</span><span class="w"> </span><span class="nf">print_data</span><span class="p">(</span><span class="n">method_name</span> <span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">request</span> <span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">response</span> <span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
<span class="linenos"> 8</span>  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Method   : &#39;</span><span class="si">{</span><span class="n">method_name</span><span class="si">}</span><span class="s2">&#39; called in Python&quot;</span><span class="p">)</span>
<span class="linenos"> 9</span>  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Requests : </span><span class="si">{</span><span class="n">request</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">10</span>  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Response : </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">11</span>  <span class="nb">print</span><span class="p">()</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="c1"># Define the callback function that will be called when a client calls the service method &quot;echo&quot;.</span>
<span class="linenos">14</span><span class="k">def</span><span class="w"> </span><span class="nf">echo_req_callback</span><span class="p">(</span>
<span class="linenos">15</span>    <span class="n">method_information</span> <span class="p">:</span> <span class="n">ecal_core</span><span class="o">.</span><span class="n">ServiceMethodInformation</span><span class="p">,</span>
<span class="linenos">16</span>    <span class="n">request</span> <span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]:</span>
<span class="linenos">17</span>  <span class="n">response</span> <span class="o">=</span> <span class="n">request</span>  
<span class="linenos">18</span>  <span class="n">print_data</span><span class="p">(</span><span class="n">method_information</span><span class="o">.</span><span class="n">method_name</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
<span class="linenos">19</span>  <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="n">response</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="c1"># Define the callback function that will be called when a client calls the service method &quot;reverse&quot;.</span>
<span class="linenos">22</span><span class="k">def</span><span class="w"> </span><span class="nf">reverse_req_callback</span><span class="p">(</span>
<span class="linenos">23</span>    <span class="n">method_information</span> <span class="p">:</span> <span class="n">ecal_core</span><span class="o">.</span><span class="n">ServiceMethodInformation</span><span class="p">,</span>
<span class="linenos">24</span>    <span class="n">request</span> <span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]:</span>
<span class="linenos">25</span>  <span class="n">response</span> <span class="o">=</span> <span class="n">request</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1">#reverse the request</span>
<span class="linenos">26</span>  <span class="n">print_data</span><span class="p">(</span><span class="n">method_information</span><span class="o">.</span><span class="n">method_name</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
<span class="linenos">27</span>  <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="n">response</span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="linenos">30</span>  <span class="nb">print</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="linenos">31</span><span class="s2">    -----------------------</span>
<span class="linenos">32</span><span class="s2">     Python: MIRROR SERVER</span>
<span class="linenos">33</span><span class="s2">    -----------------------</span>
<span class="linenos">34</span><span class="s2">  &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="linenos">35</span>          
<span class="linenos">36</span>  <span class="c1"># First, initialize the eCAL API.</span>
<span class="linenos">37</span>  <span class="n">ecal_core</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="s2">&quot;mirror server python&quot;</span><span class="p">)</span>
<span class="linenos">38</span>
<span class="linenos">39</span>  <span class="c1"># Print eCAL version and date.</span>
<span class="linenos">40</span>  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;eCAL </span><span class="si">{</span><span class="n">ecal_core</span><span class="o">.</span><span class="n">get_version_string</span><span class="p">()</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">ecal_core</span><span class="o">.</span><span class="n">get_version_date_string</span><span class="p">()</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="linenos">41</span>  <span class="n">ecal_core</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">ecal_core</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">Severity</span><span class="o">.</span><span class="n">HEALTHY</span><span class="p">,</span> <span class="n">ecal_core</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">SeverityLevel</span><span class="o">.</span><span class="n">LEVEL1</span><span class="p">,</span> <span class="s2">&quot;I feel good&quot;</span><span class="p">);</span>
<span class="linenos">42</span>
<span class="linenos">43</span>  <span class="c1"># Create the mirror server and give it the name &quot;mirror&quot;.</span>
<span class="linenos">44</span>  <span class="n">server</span> <span class="o">=</span> <span class="n">ecal_core</span><span class="o">.</span><span class="n">ServiceServer</span><span class="p">(</span><span class="s2">&quot;mirror&quot;</span><span class="p">)</span>
<span class="linenos">45</span>
<span class="linenos">46</span>  <span class="c1"># The server will have two methods: &quot;echo&quot; and &quot;reverse&quot;.</span>
<span class="linenos">47</span>  <span class="c1"># To set a callback, we need to set a ServiceMethodInformation struct as well as the callback function.</span>
<span class="linenos">48</span>  <span class="n">echo_method_info</span> <span class="o">=</span> <span class="n">ecal_core</span><span class="o">.</span><span class="n">ServiceMethodInformation</span><span class="p">(</span><span class="n">method_name</span><span class="o">=</span><span class="s2">&quot;echo&quot;</span><span class="p">)</span>
<span class="linenos">49</span>  <span class="n">server</span><span class="o">.</span><span class="n">set_method_callback</span><span class="p">(</span><span class="n">echo_method_info</span><span class="p">,</span> <span class="n">echo_req_callback</span><span class="p">)</span>
<span class="linenos">50</span>  <span class="n">reverse_method_info</span> <span class="o">=</span> <span class="n">ecal_core</span><span class="o">.</span><span class="n">ServiceMethodInformation</span><span class="p">(</span><span class="n">method_name</span><span class="o">=</span><span class="s2">&quot;reverse&quot;</span><span class="p">)</span>
<span class="linenos">51</span>  <span class="n">server</span><span class="o">.</span><span class="n">set_method_callback</span><span class="p">(</span><span class="n">reverse_method_info</span><span class="p">,</span> <span class="n">reverse_req_callback</span><span class="p">)</span>
<span class="linenos">52</span>  
<span class="linenos">53</span>  <span class="c1"># We can retrieve the services name / id.</span>
<span class="linenos">54</span>  <span class="nb">print</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">get_service_name</span><span class="p">())</span>
<span class="linenos">55</span>  <span class="nb">print</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">get_service_id</span><span class="p">())</span>
<span class="linenos">56</span>
<span class="linenos">57</span>  <span class="c1"># We can check if clients have connected to this service.</span>
<span class="linenos">58</span>  <span class="nb">print</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">is_connected</span><span class="p">())</span>
<span class="linenos">59</span>
<span class="linenos">60</span>  <span class="c1"># Now we will go in an infinite loop, to wait for incoming service calls that will be handled with the callbacks.</span>
<span class="linenos">61</span>  <span class="k">while</span><span class="p">(</span><span class="n">ecal_core</span><span class="o">.</span><span class="n">ok</span><span class="p">()):</span>
<span class="linenos">62</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="linenos">63</span>
<span class="linenos">64</span>  <span class="c1"># destroy server</span>
<span class="linenos">65</span>  <span class="n">server</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
<span class="linenos">66</span>  
<span class="linenos">67</span>  <span class="c1"># finalize eCAL API</span>
<span class="linenos">68</span>  <span class="n">server</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
<span class="linenos">69</span>
<span class="linenos">70</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">71</span>  <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-UHl0aG9uIChsZWdhY3kp" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-UHl0aG9uIChsZWdhY3kp" name="UHl0aG9uIChsZWdhY3kp" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="linenos"> 2</span><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="kn">import</span><span class="w"> </span><span class="nn">ecal.core.core</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ecal_core</span>
<span class="linenos"> 5</span><span class="kn">import</span><span class="w"> </span><span class="nn">ecal.core.service</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ecal_service</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="linenos"> 8</span>  <span class="c1"># print eCAL version and date</span>
<span class="linenos"> 9</span>  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;eCAL </span><span class="si">{}</span><span class="s2"> (</span><span class="si">{}</span><span class="s2">)</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ecal_core</span><span class="o">.</span><span class="n">getversion</span><span class="p">(),</span> <span class="n">ecal_core</span><span class="o">.</span><span class="n">getdate</span><span class="p">()))</span>
<span class="linenos">10</span>  
<span class="linenos">11</span>  <span class="c1"># initialize eCAL API</span>
<span class="linenos">12</span>  <span class="n">ecal_core</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="s2">&quot;py_minimal_service_server&quot;</span><span class="p">)</span>
<span class="linenos">13</span>  
<span class="linenos">14</span>  <span class="c1"># set process state</span>
<span class="linenos">15</span>  <span class="n">ecal_core</span><span class="o">.</span><span class="n">set_process_state</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;I feel good&quot;</span><span class="p">)</span>
<span class="linenos">16</span>
<span class="linenos">17</span>  <span class="c1"># create a server for the &quot;DemoService&quot; service</span>
<span class="linenos">18</span>  <span class="n">server</span> <span class="o">=</span> <span class="n">ecal_service</span><span class="o">.</span><span class="n">Server</span><span class="p">(</span><span class="s2">&quot;DemoService&quot;</span><span class="p">)</span>
<span class="linenos">19</span>
<span class="linenos">20</span>  <span class="c1"># define the server method &quot;foo&quot; function</span>
<span class="linenos">21</span>  <span class="k">def</span><span class="w"> </span><span class="nf">foo_req_callback</span><span class="p">(</span><span class="n">method_name</span><span class="p">,</span> <span class="n">req_type</span><span class="p">,</span> <span class="n">resp_type</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
<span class="linenos">22</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&#39;DemoService&#39; method &#39;</span><span class="si">{}</span><span class="s2">&#39; called with </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">method_name</span><span class="p">,</span> <span class="n">request</span><span class="p">))</span>
<span class="linenos">23</span>    <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="s2">&quot;thank you for calling foo :-)&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
<span class="linenos">24</span>
<span class="linenos">25</span>  <span class="c1"># define the server method &quot;ping&quot; function</span>
<span class="linenos">26</span>  <span class="k">def</span><span class="w"> </span><span class="nf">ping_req_callback</span><span class="p">(</span><span class="n">method_name</span><span class="p">,</span> <span class="n">req_type</span><span class="p">,</span> <span class="n">resp_type</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
<span class="linenos">27</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&#39;DemoService&#39; method &#39;</span><span class="si">{}</span><span class="s2">&#39; called with </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">method_name</span><span class="p">,</span> <span class="n">request</span><span class="p">))</span>
<span class="linenos">28</span>    <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="s2">&quot;pong&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
<span class="linenos">29</span>
<span class="linenos">30</span>  <span class="c1"># define the server methods and connect them to the callbacks</span>
<span class="linenos">31</span>  <span class="n">server</span><span class="o">.</span><span class="n">add_method_callback</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>  <span class="s2">&quot;string&quot;</span><span class="p">,</span>    <span class="s2">&quot;string&quot;</span><span class="p">,</span>    <span class="n">foo_req_callback</span><span class="p">)</span>
<span class="linenos">32</span>  <span class="n">server</span><span class="o">.</span><span class="n">add_method_callback</span><span class="p">(</span><span class="s2">&quot;ping&quot;</span><span class="p">,</span> <span class="s2">&quot;ping_type&quot;</span><span class="p">,</span> <span class="s2">&quot;pong_type&quot;</span><span class="p">,</span> <span class="n">ping_req_callback</span><span class="p">)</span>
<span class="linenos">33</span>
<span class="linenos">34</span>  <span class="c1"># idle</span>
<span class="linenos">35</span>  <span class="k">while</span><span class="p">(</span><span class="n">ecal_core</span><span class="o">.</span><span class="n">ok</span><span class="p">()):</span>
<span class="linenos">36</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="linenos">37</span>
<span class="linenos">38</span>  <span class="c1"># destroy server</span>
<span class="linenos">39</span>  <span class="n">server</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
<span class="linenos">40</span>  
<span class="linenos">41</span>  <span class="c1"># finalize eCAL API</span>
<span class="linenos">42</span>  <span class="n">ecal_core</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
<span class="linenos">43</span>
<span class="linenos">44</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">45</span>  <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div></div>
<pre class="literal-block"><i class="far fa-folder-open"></i>
├─ <i class="far fa-folder-open"></i> C++
│  └─ <i class="far fa-file-alt"></i> <a class="reference download internal" download="" href="../../../_downloads/12d975af265a9ed0b5ce4f5372599ce7/mirror_server.cpp"><code class="xref download docutils literal notranslate"><span class="pre">mirror_server.cpp</span></code></a>
│
├─ <i class="far fa-folder-open"></i> C
│  └─ <i class="far fa-file-alt"></i> <a class="reference download internal" download="" href="../../../_downloads/cedfa891eeb59ced03bfd92c5ab8c195/mirror_server_c.c"><code class="xref download docutils literal notranslate"><span class="pre">mirror_server.c</span></code></a>
│
├─ <i class="far fa-folder-open"></i> C#
│  └─ <i class="far fa-file-alt"></i> <a class="reference download internal" download="" href="../../../_downloads/6a46281bebc356c911d2a6a785eb07b6/mirror_server_csharp.cs"><code class="xref download docutils literal notranslate"><span class="pre">mirror_server.cs</span></code></a>
│
├─ <i class="far fa-folder-open"></i> Python
│  └─ <i class="far fa-file-alt"></i> <a class="reference download internal" download="" href="../../../_downloads/0fe01ef2557b58c194406ed8c63f469a/nb_binary_mirror_server.py"><code class="xref download docutils literal notranslate"><span class="pre">mirror_server.py</span></code></a>
│
└─ <i class="far fa-folder-open"></i> Python (legacy)
   └─ <i class="far fa-file-alt"></i> <a class="reference download internal" download="" href="../../../_downloads/c842b5f1221c48fdede0c9585f5582b1/minimal_service_server.py"><code class="xref download docutils literal notranslate"><span class="pre">mirror_server.py</span></code></a></pre>
</section>
<section id="mirror-client">
<h2><span class="section-number">7.3.1.2. </span>Mirror Client<a class="headerlink" href="#mirror-client" title="Link to this heading">#</a></h2>
<p>The client will have some more logic to take care of, as its possible that multiple servers are running with the same service name.</p>
<ul class="simple">
<li><p>Initialize eCAL</p></li>
<li><p>Create a service client with the service name and (optionally) register the functions it can call (in this case “echo” and “mirror”)</p></li>
<li><p>Waiting for a server to be available (this is optional and depends on how you want to design your application)</p></li>
<li><p>Retrieve all client instances.
You can also call it directly on the service client, but if you iterate through all client instances, you are more flexible and could filter out instances you don’t want to call.</p></li>
<li><p>Then we call the methodnames with two different calls: with callback (non blocking) and with response (blocking)</p></li>
<li><p>Handle the received data (or error status)</p></li>
</ul>
<p>As a little extra we also added a little bit more eCAL state handling as in the previous examples.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-1-Qw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-Qw==" name="Qw==" role="tab" tabindex="-1">C</button><button aria-controls="panel-1-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-1-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button><button aria-controls="panel-1-UHl0aG9uIChsZWdhY3kp" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-UHl0aG9uIChsZWdhY3kp" name="UHl0aG9uIChsZWdhY3kp" role="tab" tabindex="-1">Python (legacy)</button></div><div aria-labelledby="tab-1-Qysr" class="sphinx-tabs-panel group-tab" id="panel-1-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ecal/ecal.h&gt;</span>
<span class="linenos">  2</span>
<span class="linenos">  3</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos">  4</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;chrono&gt;</span>
<span class="linenos">  5</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;thread&gt;</span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="cm">/*</span>
<span class="linenos">  8</span><span class="cm">  Helper function to print the service response.</span>
<span class="linenos">  9</span><span class="cm">*/</span>
<span class="linenos"> 10</span><span class="kt">void</span><span class="w"> </span><span class="nf">printServiceResponse</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">SServiceResponse</span><span class="o">&amp;</span><span class="w"> </span><span class="n">service_response_</span><span class="p">)</span>
<span class="linenos"> 11</span><span class="p">{</span>
<span class="linenos"> 12</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">call_state</span><span class="p">;</span>
<span class="linenos"> 13</span><span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">service_response_</span><span class="p">.</span><span class="n">call_state</span><span class="p">)</span>
<span class="linenos"> 14</span><span class="w">  </span><span class="p">{</span>
<span class="linenos"> 15</span><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="no">eCAL</span><span class="o">::</span><span class="no">eCallState</span><span class="o">::</span><span class="no">executed</span><span class="p">:</span>
<span class="linenos"> 16</span><span class="w">      </span><span class="n">call_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;EXECUTED&quot;</span><span class="p">;</span>
<span class="linenos"> 17</span><span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 18</span><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="no">eCAL</span><span class="o">::</span><span class="no">eCallState</span><span class="o">::</span><span class="no">failed</span><span class="p">:</span>
<span class="linenos"> 19</span><span class="w">      </span><span class="n">call_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;FAILED&quot;</span><span class="p">;</span>
<span class="linenos"> 20</span><span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 21</span><span class="w">    </span><span class="k">default</span><span class="o">:</span>
<span class="linenos"> 22</span><span class="w">      </span><span class="n">call_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;UNKNOWN&quot;</span><span class="p">;</span>
<span class="linenos"> 23</span><span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="p">}</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Received service response in C++: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">call_state</span><span class="w">                         </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Method    : &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">service_response_</span><span class="p">.</span><span class="n">service_method_information</span><span class="p">.</span><span class="n">method_name</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Response  : &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">service_response_</span><span class="p">.</span><span class="n">response</span><span class="w">                               </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Server ID : &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">service_response_</span><span class="p">.</span><span class="n">server_id</span><span class="p">.</span><span class="n">service_id</span><span class="p">.</span><span class="n">entity_id</span><span class="w">         </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Host      : &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">service_response_</span><span class="p">.</span><span class="n">server_id</span><span class="p">.</span><span class="n">service_id</span><span class="p">.</span><span class="n">host_name</span><span class="w">         </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos"> 32</span><span class="p">}</span>
<span class="linenos"> 33</span>
<span class="linenos"> 34</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 35</span><span class="p">{</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;--------------------&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; C++: MIRROR CLIENT&quot;</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;--------------------&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos"> 39</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 41</span><span class="cm">    As always: initialize the eCAL API and give your process a name.</span>
<span class="linenos"> 42</span><span class="cm">  */</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Initialize</span><span class="p">(</span><span class="s">&quot;mirror client c++&quot;</span><span class="p">);</span>
<span class="linenos"> 44</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;eCAL &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">GetVersionString</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; (&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">GetVersionDateString</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">SetState</span><span class="p">(</span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">eSeverity</span><span class="o">::</span><span class="n">warning</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">eSeverityLevel</span><span class="o">::</span><span class="n">level1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Waiting for a service ...&quot;</span><span class="p">);</span>
<span class="linenos"> 47</span>
<span class="linenos"> 48</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 49</span><span class="cm">    Create a client that connects to a &quot;mirror&quot; server.</span>
<span class="linenos"> 50</span><span class="cm">    It may call the methods &quot;echo&quot; and &quot;reverse&quot;</span>
<span class="linenos"> 51</span><span class="cm">  */</span>
<span class="linenos"> 52</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">CServiceClient</span><span class="w"> </span><span class="n">mirror_client</span><span class="p">(</span><span class="s">&quot;mirror&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;echo&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;reverse&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">});</span>
<span class="linenos"> 53</span>
<span class="linenos"> 54</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 55</span><span class="cm">    This lambda serves as a callback which will be executed when we receive a response from a server.</span>
<span class="linenos"> 56</span><span class="cm">  */</span>
<span class="linenos"> 57</span><span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">service_response_callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="k">const</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">SServiceResponse</span><span class="o">&amp;</span><span class="w"> </span><span class="n">service_response_</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 58</span><span class="w">    </span><span class="n">printServiceResponse</span><span class="p">(</span><span class="n">service_response_</span><span class="p">);</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="p">};</span>
<span class="linenos"> 60</span>
<span class="linenos"> 61</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 62</span><span class="cm">    We wait until the client is connected to a server,</span>
<span class="linenos"> 63</span><span class="cm">    so we don&#39;t call methods that are not available.</span>
<span class="linenos"> 64</span><span class="cm">  */</span>
<span class="linenos"> 65</span><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">mirror_client</span><span class="p">.</span><span class="n">IsConnected</span><span class="p">())</span>
<span class="linenos"> 66</span><span class="w">  </span><span class="p">{</span>
<span class="linenos"> 67</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Waiting for a service ...&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos"> 68</span>
<span class="linenos"> 69</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">milliseconds</span><span class="p">(</span><span class="mi">1000</span><span class="p">));</span>
<span class="linenos"> 70</span><span class="w">  </span><span class="p">}</span>
<span class="linenos"> 71</span>
<span class="linenos"> 72</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 73</span><span class="cm">    Now that we are connected, we can set the process state to &quot;healthy&quot; and communicate the connection.</span>
<span class="linenos"> 74</span><span class="cm">  */</span>
<span class="linenos"> 75</span><span class="w">  </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">SetState</span><span class="p">(</span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">eSeverity</span><span class="o">::</span><span class="n">healthy</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">eSeverityLevel</span><span class="o">::</span><span class="n">level1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Connected!&quot;</span><span class="p">);</span>
<span class="linenos"> 76</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 78</span><span class="cm">    Allow to alternate between the two methods &quot;echo&quot; and &quot;reverse&quot;.</span>
<span class="linenos"> 79</span><span class="cm">  */</span>
<span class="linenos"> 80</span><span class="w">  </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 81</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">methods</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;echo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;reverse&quot;</span><span class="w"> </span><span class="p">};</span>
<span class="linenos"> 82</span><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">calls_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;;</span>
<span class="linenos"> 83</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="n">eCAL</span><span class="o">::</span><span class="n">Ok</span><span class="p">())</span>
<span class="linenos"> 85</span><span class="w">  </span><span class="p">{</span>
<span class="linenos"> 86</span><span class="w">    </span><span class="cm">/* </span>
<span class="linenos"> 87</span><span class="cm">      Alternate between the two methods &quot;echo&quot; and &quot;reverse&quot;.</span>
<span class="linenos"> 88</span><span class="cm">      Create the request payload.</span>
<span class="linenos"> 89</span><span class="cm">    */</span>
<span class="linenos"> 90</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">method_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">methods</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">methods</span><span class="p">.</span><span class="n">size</span><span class="p">()];</span>
<span class="linenos"> 91</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">request</span><span class="p">(</span><span class="s">&quot;stressed&quot;</span><span class="p">);</span>
<span class="linenos"> 92</span>
<span class="linenos"> 93</span><span class="w">    </span><span class="n">calls_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">mirror_client</span><span class="p">.</span><span class="n">GetClientInstances</span><span class="p">().</span><span class="n">empty</span><span class="p">();</span>
<span class="linenos"> 94</span><span class="w">    </span>
<span class="linenos"> 95</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos"> 96</span><span class="cm">      We iterate now over all client instances and call the methods by name.</span>
<span class="linenos"> 97</span><span class="cm">      With this approach we have the option to filter out client instances that we don&#39;t want to call.</span>
<span class="linenos"> 98</span><span class="cm">      If you want to call either way all instances, then you can use</span>
<span class="linenos"> 99</span>
<span class="linenos">100</span><span class="cm">      mirror_client.CallWithResponse(...)</span>
<span class="linenos">101</span><span class="cm">      mirror_client.CallWithCallback(...)</span>
<span class="linenos">102</span>
<span class="linenos">103</span><span class="cm">      instead of the loop.</span>
<span class="linenos">104</span><span class="cm">    */</span>
<span class="linenos">105</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">client_instance</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">mirror_client</span><span class="p">.</span><span class="n">GetClientInstances</span><span class="p">())</span>
<span class="linenos">106</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">107</span><span class="w">      </span><span class="cm">/*</span>
<span class="linenos">108</span><span class="cm">        Service call: blocking</span>
<span class="linenos">109</span><span class="cm">        We leave the default timeout value (infinite) for the blocking call.</span>
<span class="linenos">110</span><span class="cm">        You can change this for a specified timeout in ms.</span>
<span class="linenos">111</span><span class="cm">      */</span>
<span class="linenos">112</span><span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">service_response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client_instance</span><span class="p">.</span><span class="n">CallWithResponse</span><span class="p">(</span><span class="n">method_name</span><span class="p">,</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">CClientInstance</span><span class="o">::</span><span class="n">DEFAULT_TIME_ARGUMENT</span><span class="p">);</span>
<span class="linenos">113</span><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">service_response</span><span class="p">))</span>
<span class="linenos">114</span><span class="w">      </span><span class="p">{</span>
<span class="linenos">115</span><span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">response_content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">service_response</span><span class="p">);</span>
<span class="linenos">116</span><span class="w">        </span>
<span class="linenos">117</span><span class="w">        </span><span class="n">printServiceResponse</span><span class="p">(</span><span class="n">response_content</span><span class="p">);</span>
<span class="linenos">118</span><span class="w">      </span><span class="p">}</span>
<span class="linenos">119</span><span class="w">      </span><span class="k">else</span>
<span class="linenos">120</span><span class="w">      </span><span class="p">{</span>
<span class="linenos">121</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Method blocking call failed.&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos">122</span><span class="w">        </span><span class="n">calls_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">123</span><span class="w">      </span><span class="p">}</span>
<span class="linenos">124</span>
<span class="linenos">125</span><span class="w">      </span><span class="cm">/*</span>
<span class="linenos">126</span><span class="cm">        Service call: with callback</span>
<span class="linenos">127</span><span class="cm">        The callback will be executed when the server has processed the request and sent a response.</span>
<span class="linenos">128</span><span class="cm">        You can again set a timeout value for an internal waiting time. By default, we wait infinitely.</span>
<span class="linenos">129</span><span class="cm">      */</span>
<span class="linenos">130</span><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">client_instance</span><span class="p">.</span><span class="n">CallWithCallback</span><span class="p">(</span><span class="n">method_name</span><span class="p">,</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">service_response_callback</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">CClientInstance</span><span class="o">::</span><span class="n">DEFAULT_TIME_ARGUMENT</span><span class="p">))</span>
<span class="linenos">131</span><span class="w">      </span><span class="p">{</span>
<span class="linenos">132</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Method callback call failed.&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="linenos">133</span><span class="w">        </span><span class="n">calls_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">134</span><span class="w">      </span><span class="p">}</span>
<span class="linenos">135</span><span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">136</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">137</span>
<span class="linenos">138</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos">139</span><span class="cm">      Now we set the process state according to the result of the service calls.</span>
<span class="linenos">140</span><span class="cm">      You will see the state in the eCAL Monitor or the eCAL Sys application.</span>
<span class="linenos">141</span><span class="cm">    */</span>
<span class="linenos">142</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">calls_ok</span><span class="p">)</span>
<span class="linenos">143</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">144</span><span class="w">      </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">SetState</span><span class="p">(</span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">eSeverity</span><span class="o">::</span><span class="n">healthy</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">eSeverityLevel</span><span class="o">::</span><span class="n">level1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Connected!&quot;</span><span class="p">);</span>
<span class="linenos">145</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">146</span><span class="w">    </span><span class="k">else</span>
<span class="linenos">147</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">148</span><span class="w">      </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">SetState</span><span class="p">(</span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">eSeverity</span><span class="o">::</span><span class="n">critical</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Process</span><span class="o">::</span><span class="n">eSeverityLevel</span><span class="o">::</span><span class="n">level3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Calls failed!&quot;</span><span class="p">);</span>
<span class="linenos">149</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">150</span>
<span class="linenos">151</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">milliseconds</span><span class="p">(</span><span class="mi">1000</span><span class="p">));</span>
<span class="linenos">152</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">153</span>
<span class="linenos">154</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">155</span><span class="cm">    After we are done, as always, finalize the eCAL API.</span>
<span class="linenos">156</span><span class="cm">  */</span>
<span class="linenos">157</span><span class="w">  </span><span class="n">eCAL</span><span class="o">::</span><span class="n">Finalize</span><span class="p">();</span>
<span class="linenos">158</span>
<span class="linenos">159</span><span class="w">  </span><span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">160</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-Qw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-Qw==" name="Qw==" role="tabpanel" tabindex="0"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ecal_c/ecal.h&gt;</span>
<span class="linenos">  2</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ecal_c/service/client.h&gt;</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span><span class="c1">  // printf()</span>
<span class="linenos">  5</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string.h&gt;</span><span class="c1"> // strlen</span>
<span class="linenos">  6</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span><span class="c1"> // free</span>
<span class="linenos">  7</span>
<span class="linenos">  8</span><span class="cm">/*</span>
<span class="linenos">  9</span><span class="cm">  Helper function to print the service response.</span>
<span class="linenos"> 10</span><span class="cm">*/</span>
<span class="linenos"> 11</span><span class="kt">void</span><span class="w"> </span><span class="nf">printServiceResponse</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceResponse</span><span class="o">*</span><span class="w"> </span><span class="n">service_response</span><span class="p">)</span>
<span class="linenos"> 12</span><span class="p">{</span>
<span class="linenos"> 13</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">call_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="linenos"> 14</span><span class="w">  </span>
<span class="linenos"> 15</span><span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">service_response</span><span class="o">-&gt;</span><span class="n">call_state</span><span class="p">)</span>
<span class="linenos"> 16</span><span class="w">  </span><span class="p">{</span>
<span class="linenos"> 17</span><span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="no">eCAL_eCallState_executed</span><span class="p">:</span>
<span class="linenos"> 18</span><span class="w">    </span><span class="n">call_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;EXECUTED&quot;</span><span class="p">;</span>
<span class="linenos"> 19</span><span class="w">    </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="no">eCAL_eCallState_failed</span><span class="p">:</span>
<span class="linenos"> 21</span><span class="w">    </span><span class="n">call_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;FAILED&quot;</span><span class="p">;</span>
<span class="linenos"> 22</span><span class="w">    </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="k">default</span><span class="o">:</span>
<span class="linenos"> 24</span><span class="w">    </span><span class="n">call_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;UNKNOWN&quot;</span><span class="p">;</span>
<span class="linenos"> 25</span><span class="w">    </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="p">}</span>
<span class="linenos"> 27</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Received service response in C: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">call_state</span><span class="p">);</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Method    : %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">service_response</span><span class="o">-&gt;</span><span class="n">service_method_information</span><span class="p">.</span><span class="n">method_name</span><span class="p">);</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Response  : %.*s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">service_response</span><span class="o">-&gt;</span><span class="n">response_length</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">service_response</span><span class="o">-&gt;</span><span class="n">response</span><span class="p">);</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Server ID : %llu</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">service_response</span><span class="o">-&gt;</span><span class="n">server_id</span><span class="p">.</span><span class="n">service_id</span><span class="p">.</span><span class="n">entity_id</span><span class="p">);</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Host      : %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">service_response</span><span class="o">-&gt;</span><span class="n">server_id</span><span class="p">.</span><span class="n">service_id</span><span class="p">.</span><span class="n">host_name</span><span class="p">);</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 34</span><span class="p">}</span>
<span class="linenos"> 35</span>
<span class="linenos"> 36</span><span class="cm">/*</span>
<span class="linenos"> 37</span><span class="cm">  Callback function that will be executed when we receive a response from a server.</span>
<span class="linenos"> 38</span><span class="cm">*/</span>
<span class="linenos"> 39</span><span class="kt">void</span><span class="w"> </span><span class="nf">serviceResponseCallback</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceResponse</span><span class="o">*</span><span class="w"> </span><span class="n">service_response</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">user_data</span><span class="p">)</span>
<span class="linenos"> 40</span><span class="p">{</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">user_data</span><span class="p">;</span>
<span class="linenos"> 42</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="n">printServiceResponse</span><span class="p">(</span><span class="n">service_response</span><span class="p">);</span><span class="w"> </span>
<span class="linenos"> 44</span><span class="p">}</span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span>
<span class="linenos"> 47</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 48</span><span class="p">{</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="n">eCAL_ServiceClient</span><span class="o">*</span><span class="w"> </span><span class="n">mirror_client</span><span class="p">;</span>
<span class="linenos"> 50</span><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceMethodInformation</span><span class="o">*</span><span class="w"> </span><span class="n">method_information_set</span><span class="p">;</span>
<span class="linenos"> 51</span>
<span class="linenos"> 52</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 53</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; C: MIRROR CLIENT</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 54</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 55</span>
<span class="linenos"> 56</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 57</span><span class="cm">    As always: initialize the eCAL API and give your process a name.</span>
<span class="linenos"> 58</span><span class="cm">  */</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="n">eCAL_Initialize</span><span class="p">(</span><span class="s">&quot;mirror client c&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="linenos"> 60</span>
<span class="linenos"> 61</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;eCAL %s (%s)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL_GetVersionString</span><span class="p">(),</span><span class="w"> </span><span class="n">eCAL_GetVersionDateString</span><span class="p">());</span>
<span class="linenos"> 62</span><span class="w">  </span><span class="n">eCAL_Process_SetState</span><span class="p">(</span><span class="n">eCAL_Process_eSeverity_healthy</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL_Process_eSeverityLevel_level1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Waiting for a service ...&quot;</span><span class="p">);</span>
<span class="linenos"> 63</span>
<span class="linenos"> 64</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 65</span><span class="cm">    Create a ServiceMethodInformation struct that contains the information about the service methods we want to call.</span>
<span class="linenos"> 66</span><span class="cm">    In this case, we want to call the methods &quot;echo&quot; and &quot;reverse&quot;.</span>
<span class="linenos"> 67</span><span class="cm">  */</span>
<span class="linenos"> 68</span><span class="w">  </span><span class="n">method_information_set</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceMethodInformation</span><span class="o">*</span><span class="p">)</span><span class="n">eCAL_Malloc</span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceMethodInformation</span><span class="p">));</span>
<span class="linenos"> 69</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">method_information_set</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<span class="linenos"> 70</span><span class="w">  </span><span class="p">{</span>
<span class="linenos"> 71</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Memory allocation failed.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 72</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="linenos"> 73</span><span class="w">  </span><span class="p">}</span>
<span class="linenos"> 74</span>
<span class="linenos"> 75</span><span class="w">  </span><span class="n">memset</span><span class="p">(</span><span class="n">method_information_set</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceMethodInformation</span><span class="p">));</span>
<span class="linenos"> 76</span><span class="w">  </span><span class="n">method_information_set</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">method_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;echo&quot;</span><span class="p">;</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="n">method_information_set</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">method_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;reverse&quot;</span><span class="p">;</span>
<span class="linenos"> 78</span>
<span class="linenos"> 79</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 80</span><span class="cm">    Create a client that connects to a &quot;mirror&quot; server.</span>
<span class="linenos"> 81</span><span class="cm">    It may call the methods &quot;echo&quot; and &quot;reverse&quot;.</span>
<span class="linenos"> 82</span><span class="cm">  */</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="n">mirror_client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eCAL_ServiceClient_New</span><span class="p">(</span><span class="s">&quot;mirror&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">method_information_set</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="linenos"> 84</span>
<span class="linenos"> 85</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 86</span><span class="cm">    Wait until the client is connected to a server,</span>
<span class="linenos"> 87</span><span class="cm">    so we don&#39;t call methods that are not available.</span>
<span class="linenos"> 88</span><span class="cm">  */</span>
<span class="linenos"> 89</span><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">eCAL_ServiceClient_IsConnected</span><span class="p">(</span><span class="n">mirror_client</span><span class="p">))</span>
<span class="linenos"> 90</span><span class="w">  </span><span class="p">{</span>
<span class="linenos"> 91</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Waiting for a service ...</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 92</span><span class="w">    </span><span class="n">eCAL_Process_SleepMS</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="linenos"> 93</span><span class="w">  </span><span class="p">}</span>
<span class="linenos"> 94</span>
<span class="linenos"> 95</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos"> 96</span><span class="cm">    Now that we are connected, we can set the process state to &quot;healthy&quot; and communicate the connection.</span>
<span class="linenos"> 97</span><span class="cm">  */</span>
<span class="linenos"> 98</span><span class="w">  </span><span class="n">eCAL_Process_SetState</span><span class="p">(</span><span class="n">eCAL_Process_eSeverity_healthy</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL_Process_eSeverityLevel_level1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Connected!&quot;</span><span class="p">);</span>
<span class="linenos"> 99</span>
<span class="linenos">100</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">101</span><span class="cm">    Allow alternating between the two methods &quot;echo&quot; and &quot;reverse&quot;.</span>
<span class="linenos">102</span><span class="cm">  */</span>
<span class="linenos">103</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">methods</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;echo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;reverse&quot;</span><span class="w"> </span><span class="p">};</span>
<span class="linenos">104</span><span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">method_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">methods</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">methods</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="linenos">105</span><span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">106</span><span class="w">  </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">calls_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">107</span>
<span class="linenos">108</span><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">eCAL_Ok</span><span class="p">())</span>
<span class="linenos">109</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">110</span><span class="w">    </span><span class="cm">/* </span>
<span class="linenos">111</span><span class="cm">      Alternate between the two methods &quot;echo&quot; and &quot;reverse&quot;.</span>
<span class="linenos">112</span><span class="cm">      Create the request payload.</span>
<span class="linenos">113</span><span class="cm">    */</span>
<span class="linenos">114</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">method_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">methods</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">method_count</span><span class="p">];</span>
<span class="linenos">115</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">request</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;stressed&quot;</span><span class="p">;</span>
<span class="linenos">116</span><span class="w">    </span>
<span class="linenos">117</span><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_ClientInstance</span><span class="o">**</span><span class="w"> </span><span class="n">client_instances</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eCAL_ServiceClient_GetClientInstances</span><span class="p">(</span><span class="n">mirror_client</span><span class="p">);</span>
<span class="linenos">118</span><span class="w">    </span><span class="n">calls_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client_instances</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">client_instances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="linenos">119</span>
<span class="linenos">120</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos">121</span><span class="cm">      We iterate now over all client instances and call the methods by name.</span>
<span class="linenos">122</span><span class="cm">      With this approach we have the option to filter out client instances that we don&#39;t want to call.</span>
<span class="linenos">123</span><span class="cm">      If you want to call either way all instances, then you can use</span>
<span class="linenos">124</span>
<span class="linenos">125</span><span class="cm">      eCAL_ServiceClient_CallWithResponse(mirror_client, ...)</span>
<span class="linenos">126</span><span class="cm">      eCAL_ServiceClient_CallWithCallback(mirror_client, ...)</span>
<span class="linenos">127</span>
<span class="linenos">128</span><span class="cm">      instead of the loop.</span>
<span class="linenos">129</span><span class="cm">    */</span>
<span class="linenos">130</span><span class="w">    </span>
<span class="linenos">131</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">client_instances</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<span class="linenos">132</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">133</span><span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">client_instances</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">j</span><span class="p">)</span>
<span class="linenos">134</span><span class="w">      </span><span class="p">{</span>
<span class="linenos">135</span><span class="w">        </span><span class="cm">/*</span>
<span class="linenos">136</span><span class="cm">          Service call: blocking</span>
<span class="linenos">137</span><span class="cm">          We leave the default timeout value (infinite) for the blocking call.</span>
<span class="linenos">138</span><span class="cm">          You can change this for a specified timeout in ms.</span>
<span class="linenos">139</span><span class="cm">        */</span>
<span class="linenos">140</span><span class="w">        </span><span class="k">struct</span><span class="w"> </span><span class="nc">eCAL_SServiceResponse</span><span class="o">*</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eCAL_ClientInstance_CallWithResponse</span><span class="p">(</span><span class="n">client_instances</span><span class="p">[</span><span class="n">j</span><span class="p">],</span><span class="w"> </span><span class="n">method_name</span><span class="p">,</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">request</span><span class="p">),</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="linenos">141</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<span class="linenos">142</span><span class="w">        </span><span class="p">{</span>
<span class="linenos">143</span><span class="w">          </span><span class="n">printServiceResponse</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
<span class="linenos">144</span><span class="w">          </span><span class="n">eCAL_Free</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
<span class="linenos">145</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">146</span><span class="w">        </span><span class="k">else</span>
<span class="linenos">147</span><span class="w">        </span><span class="p">{</span>
<span class="linenos">148</span><span class="w">          </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Method blocking call failed.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">149</span><span class="w">          </span><span class="n">calls_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">150</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">151</span>
<span class="linenos">152</span><span class="w">        </span><span class="cm">/*</span>
<span class="linenos">153</span><span class="cm">          Service call: with callback</span>
<span class="linenos">154</span><span class="cm">          The callback will be executed when the server has processed the request and sent a response.</span>
<span class="linenos">155</span><span class="cm">          You can again set a timeout value for an internal waiting time. By default, we wait infinitely.</span>
<span class="linenos">156</span><span class="cm">        */</span>
<span class="linenos">157</span><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">eCAL_ClientInstance_CallWithCallback</span><span class="p">(</span><span class="n">client_instances</span><span class="p">[</span><span class="n">j</span><span class="p">],</span><span class="w"> </span><span class="n">method_name</span><span class="p">,</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">request</span><span class="p">),</span><span class="w"> </span><span class="n">serviceResponseCallback</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">158</span><span class="w">        </span><span class="p">{</span>
<span class="linenos">159</span><span class="w">          </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Method callback call failed.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">160</span><span class="w">          </span><span class="n">calls_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">161</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">162</span><span class="w">      </span><span class="p">}</span>
<span class="linenos">163</span>
<span class="linenos">164</span><span class="w">      </span><span class="cm">/*</span>
<span class="linenos">165</span><span class="cm">        After usage, free the memory from the client instances.</span>
<span class="linenos">166</span><span class="cm">      */</span>
<span class="linenos">167</span><span class="w">      </span><span class="n">eCAL_ClientInstances_Delete</span><span class="p">(</span><span class="n">client_instances</span><span class="p">);</span>
<span class="linenos">168</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">169</span>
<span class="linenos">170</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos">171</span><span class="cm">      Now we set the process state according to the result of the service calls.</span>
<span class="linenos">172</span><span class="cm">      You will see the state in the eCAL Monitor or the eCAL Sys application.</span>
<span class="linenos">173</span><span class="cm">    */</span>
<span class="linenos">174</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">calls_ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">175</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">176</span><span class="w">      </span><span class="n">eCAL_Process_SetState</span><span class="p">(</span><span class="n">eCAL_Process_eSeverity_healthy</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL_Process_eSeverityLevel_level1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Connected!&quot;</span><span class="p">);</span>
<span class="linenos">177</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">178</span><span class="w">    </span><span class="k">else</span>
<span class="linenos">179</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">180</span><span class="w">      </span><span class="n">eCAL_Process_SetState</span><span class="p">(</span><span class="n">eCAL_Process_eSeverity_critical</span><span class="p">,</span><span class="w"> </span><span class="n">eCAL_Process_eSeverityLevel_level3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Calls failed!&quot;</span><span class="p">);</span>
<span class="linenos">181</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">182</span>
<span class="linenos">183</span><span class="w">    </span><span class="n">eCAL_Process_SleepMS</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="linenos">184</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">185</span>
<span class="linenos">186</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">187</span><span class="cm">    Don&#39;t forget to delete the client handle.</span>
<span class="linenos">188</span><span class="cm">  */</span>
<span class="linenos">189</span><span class="w">  </span><span class="n">eCAL_ServiceClient_Delete</span><span class="p">(</span><span class="n">mirror_client</span><span class="p">);</span>
<span class="linenos">190</span>
<span class="linenos">191</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">192</span><span class="cm">    After we are done, as always, finalize the eCAL API.</span>
<span class="linenos">193</span><span class="cm">  */</span>
<span class="linenos">194</span><span class="w">  </span><span class="n">eCAL_Finalize</span><span class="p">();</span>
<span class="linenos">195</span>
<span class="linenos">196</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">197</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="k">using</span><span class="w"> </span><span class="nn">System</span><span class="p">;</span>
<span class="linenos">  2</span><span class="k">using</span><span class="w"> </span><span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="linenos">  3</span><span class="k">using</span><span class="w"> </span><span class="nn">System.Text</span><span class="p">;</span>
<span class="linenos">  4</span><span class="k">using</span><span class="w"> </span><span class="nn">Eclipse.eCAL.Core</span><span class="p">;</span>
<span class="linenos">  5</span>
<span class="linenos">  6</span><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">MirrorClient</span>
<span class="linenos">  7</span><span class="p">{</span>
<span class="linenos">  8</span><span class="w">  </span><span class="cm">/*</span>
<span class="linenos">  9</span><span class="cm">    Helper function to print the service response.</span>
<span class="linenos"> 10</span><span class="cm">  */</span>
<span class="linenos"> 11</span><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">PrintServiceResponse</span><span class="p">(</span><span class="n">ServiceResponse</span><span class="w"> </span><span class="n">serviceResponse</span><span class="p">)</span>
<span class="linenos"> 12</span><span class="w">  </span><span class="p">{</span>
<span class="linenos"> 13</span><span class="w">    </span><span class="kt">string</span><span class="w"> </span><span class="n">callState</span><span class="p">;</span>
<span class="linenos"> 14</span><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">serviceResponse</span><span class="p">.</span><span class="n">CallState</span><span class="p">)</span>
<span class="linenos"> 15</span><span class="w">    </span><span class="p">{</span>
<span class="linenos"> 16</span><span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">CallState</span><span class="p">.</span><span class="n">Executed</span><span class="p">:</span>
<span class="linenos"> 17</span><span class="w">        </span><span class="n">callState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;EXECUTED&quot;</span><span class="p">;</span>
<span class="linenos"> 18</span><span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 19</span><span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">CallState</span><span class="p">.</span><span class="n">Failed</span><span class="p">:</span>
<span class="linenos"> 20</span><span class="w">        </span><span class="n">callState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;FAILED&quot;</span><span class="p">;</span>
<span class="linenos"> 21</span><span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 22</span><span class="w">      </span><span class="k">default</span><span class="p">:</span>
<span class="linenos"> 23</span><span class="w">        </span><span class="n">callState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;UNKNOWN&quot;</span><span class="p">;</span>
<span class="linenos"> 24</span><span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 25</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 26</span>
<span class="linenos"> 27</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Received service response in C: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">callState</span><span class="p">);</span>
<span class="linenos"> 28</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Method    : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">serviceResponse</span><span class="p">.</span><span class="n">MethodInformation</span><span class="p">.</span><span class="n">MethodName</span><span class="p">);</span>
<span class="linenos"> 29</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Response  : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="n">GetString</span><span class="p">(</span><span class="n">serviceResponse</span><span class="p">.</span><span class="n">Response</span><span class="p">));</span>
<span class="linenos"> 30</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Server ID : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">serviceResponse</span><span class="p">.</span><span class="n">ServerId</span><span class="p">.</span><span class="n">EntityID</span><span class="p">.</span><span class="n">Id</span><span class="p">);</span>
<span class="linenos"> 31</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Host      : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">serviceResponse</span><span class="p">.</span><span class="n">ServerId</span><span class="p">.</span><span class="n">EntityID</span><span class="p">.</span><span class="n">HostName</span><span class="p">);</span>
<span class="linenos"> 32</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">();</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="p">}</span>
<span class="linenos"> 34</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="p">{</span>
<span class="linenos"> 37</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;-------------------&quot;</span><span class="p">);</span>
<span class="linenos"> 38</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot; C#: MIRROR CLIENT&quot;</span><span class="p">);</span>
<span class="linenos"> 39</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;-------------------&quot;</span><span class="p">);</span>
<span class="linenos"> 40</span>
<span class="linenos"> 41</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos"> 42</span><span class="cm">      As always: initialize the eCAL API and give your process a name.</span>
<span class="linenos"> 43</span><span class="cm">    */</span>
<span class="linenos"> 44</span><span class="w">    </span><span class="n">Core</span><span class="p">.</span><span class="n">Initialize</span><span class="p">(</span><span class="s">&quot;mirror client c#&quot;</span><span class="p">);</span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span><span class="s">&quot;eCAL {0} ({1})\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Core</span><span class="p">.</span><span class="n">GetVersionString</span><span class="p">(),</span><span class="w"> </span><span class="n">Core</span><span class="p">.</span><span class="n">GetVersionDateString</span><span class="p">()));</span>
<span class="linenos"> 47</span>
<span class="linenos"> 48</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos"> 49</span><span class="cm">      Create a client that connects to a &quot;mirror&quot; server.</span>
<span class="linenos"> 50</span><span class="cm">      It may call the methods &quot;echo&quot; and &quot;reverse&quot;</span>
<span class="linenos"> 51</span><span class="cm">    */</span>
<span class="linenos"> 52</span><span class="w">    </span><span class="n">ServiceMethodInformationList</span><span class="w"> </span><span class="n">methodInformationList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ServiceMethodInformationList</span><span class="p">();</span>
<span class="linenos"> 53</span><span class="w">    </span><span class="n">methodInformationList</span><span class="p">.</span><span class="n">Methods</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ServiceMethodInformation</span><span class="p">(</span><span class="s">&quot;echo&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataTypeInformation</span><span class="p">(),</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataTypeInformation</span><span class="p">()));</span>
<span class="linenos"> 54</span><span class="w">    </span><span class="n">methodInformationList</span><span class="p">.</span><span class="n">Methods</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ServiceMethodInformation</span><span class="p">(</span><span class="s">&quot;reverse&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataTypeInformation</span><span class="p">(),</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataTypeInformation</span><span class="p">()));</span>
<span class="linenos"> 55</span>
<span class="linenos"> 56</span><span class="w">    </span><span class="n">ServiceClient</span><span class="w"> </span><span class="n">mirrorClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ServiceClient</span><span class="p">(</span><span class="s">&quot;mirror&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">methodInformationList</span><span class="p">);</span>
<span class="linenos"> 57</span>
<span class="linenos"> 58</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos"> 59</span><span class="cm">      We wait until the client is connected to a server,</span>
<span class="linenos"> 60</span><span class="cm">      so we don&#39;t call methods that are not available.</span>
<span class="linenos"> 61</span><span class="cm">    */</span>
<span class="linenos"> 62</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">mirrorClient</span><span class="p">.</span><span class="n">IsConnected</span><span class="p">())</span>
<span class="linenos"> 63</span><span class="w">    </span><span class="p">{</span>
<span class="linenos"> 64</span><span class="w">      </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Waiting for a service ...&quot;</span><span class="p">);</span>
<span class="linenos"> 65</span><span class="w">      </span><span class="n">System</span><span class="p">.</span><span class="n">Threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="linenos"> 66</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 67</span>
<span class="linenos"> 68</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos"> 69</span><span class="cm">      Allow to alternate between the two methods &quot;echo&quot; and &quot;reverse&quot;.</span>
<span class="linenos"> 70</span><span class="cm">    */</span>
<span class="linenos"> 71</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 72</span><span class="w">    </span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="n">methods</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;echo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;reverse&quot;</span><span class="w"> </span><span class="p">};</span>
<span class="linenos"> 73</span>
<span class="linenos"> 74</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">Core</span><span class="p">.</span><span class="n">Ok</span><span class="p">())</span>
<span class="linenos"> 75</span><span class="w">    </span><span class="p">{</span>
<span class="linenos"> 76</span><span class="w">      </span><span class="cm">/* </span>
<span class="linenos"> 77</span><span class="cm">        Alternate between the two methods &quot;echo&quot; and &quot;reverse&quot;.</span>
<span class="linenos"> 78</span><span class="cm">        Create the request payload.</span>
<span class="linenos"> 79</span><span class="cm">      */</span>
<span class="linenos"> 80</span><span class="w">      </span><span class="kt">string</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">methods</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">methods</span><span class="p">.</span><span class="n">Length</span><span class="p">];</span>
<span class="linenos"> 81</span><span class="w">      </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="n">GetBytes</span><span class="p">(</span><span class="s">&quot;stressed&quot;</span><span class="p">);</span>
<span class="linenos"> 82</span>
<span class="linenos"> 83</span><span class="w">      </span><span class="cm">/*</span>
<span class="linenos"> 84</span><span class="cm">        Service call with response</span>
<span class="linenos"> 85</span><span class="cm">      */</span>
<span class="linenos"> 86</span><span class="w">      </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ServiceResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">responseList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mirrorClient</span><span class="p">.</span><span class="n">CallWithResponse</span><span class="p">(</span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">Eclipse</span><span class="p">.</span><span class="n">eCAL</span><span class="p">.</span><span class="n">Core</span><span class="p">.</span><span class="n">ServiceClient</span><span class="p">.</span><span class="n">DefaultTimeArgument</span><span class="p">);</span>
<span class="linenos"> 87</span><span class="w">      </span>
<span class="linenos"> 88</span><span class="w">      </span><span class="cm">/*</span>
<span class="linenos"> 89</span><span class="cm">        Iterate through all responses and print them.</span>
<span class="linenos"> 90</span><span class="cm">      */</span>
<span class="linenos"> 91</span><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">responseList</span><span class="p">.</span><span class="n">Count</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="linenos"> 92</span><span class="w">      </span><span class="p">{</span>
<span class="linenos"> 93</span><span class="w">        </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="n">ServiceResponse</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">responseList</span><span class="p">)</span>
<span class="linenos"> 94</span><span class="w">        </span><span class="p">{</span>
<span class="linenos"> 95</span><span class="w">          </span><span class="n">PrintServiceResponse</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
<span class="linenos"> 96</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 97</span><span class="w">      </span><span class="p">}</span>
<span class="linenos"> 98</span><span class="w">      </span><span class="k">else</span>
<span class="linenos"> 99</span><span class="w">      </span><span class="p">{</span>
<span class="linenos">100</span><span class="w">        </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Method call with response failed.&quot;</span><span class="p">);</span>
<span class="linenos">101</span><span class="w">      </span><span class="p">}</span>
<span class="linenos">102</span>
<span class="linenos">103</span><span class="w">      </span><span class="cm">/*</span>
<span class="linenos">104</span><span class="cm">        Service call with callback</span>
<span class="linenos">105</span><span class="cm">      */</span>
<span class="linenos">106</span><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">mirrorClient</span><span class="p">.</span><span class="n">CallWithCallback</span><span class="p">(</span>
<span class="linenos">107</span><span class="w">        </span><span class="n">method</span><span class="p">,</span>
<span class="linenos">108</span><span class="w">        </span><span class="n">request</span><span class="p">,</span>
<span class="linenos">109</span><span class="w">        </span><span class="n">response</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">PrintServiceResponse</span><span class="p">(</span><span class="n">response</span><span class="p">),</span>
<span class="linenos">110</span><span class="w">        </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">ServiceClient</span><span class="p">.</span><span class="n">DefaultTimeArgument</span><span class="p">)</span>
<span class="linenos">111</span><span class="w">      </span><span class="p">)</span>
<span class="linenos">112</span><span class="w">      </span><span class="p">{</span>
<span class="linenos">113</span><span class="w">        </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Method call with callback failed.&quot;</span><span class="p">);</span>
<span class="linenos">114</span><span class="w">      </span><span class="p">}</span>
<span class="linenos">115</span>
<span class="linenos">116</span><span class="w">      </span><span class="n">System</span><span class="p">.</span><span class="n">Threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="linenos">117</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">118</span>
<span class="linenos">119</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos">120</span><span class="cm">      When finished, we need to dispose the client to clean up properly.</span>
<span class="linenos">121</span><span class="cm">    */</span>
<span class="linenos">122</span><span class="w">    </span><span class="n">mirrorClient</span><span class="p">.</span><span class="n">Dispose</span><span class="p">();</span>
<span class="linenos">123</span>
<span class="linenos">124</span><span class="w">    </span><span class="cm">/*</span>
<span class="linenos">125</span><span class="cm">      After we are done, as always, finalize the eCAL API.</span>
<span class="linenos">126</span><span class="cm">    */</span>
<span class="linenos">127</span><span class="w">    </span><span class="n">Core</span><span class="p">.</span><span class="n">Terminate</span><span class="p">();</span>
<span class="linenos">128</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">129</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">pickle</span><span class="w"> </span><span class="kn">import</span> <span class="n">TRUE</span>
<span class="linenos"> 2</span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="linenos"> 3</span><span class="kn">import</span><span class="w"> </span><span class="nn">textwrap</span>
<span class="linenos"> 4</span><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="kn">import</span><span class="w"> </span><span class="nn">ecal.nanobind_core</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ecal_core</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="k">def</span><span class="w"> </span><span class="nf">print_service_response</span><span class="p">(</span><span class="n">service_response</span> <span class="p">:</span> <span class="n">ecal_core</span><span class="o">.</span><span class="n">ServiceResponse</span><span class="p">):</span>
<span class="linenos"> 9</span>  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Received service response in Python: </span><span class="si">{</span><span class="n">service_response</span><span class="o">.</span><span class="n">call_state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">10</span>  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Method    : </span><span class="si">{</span><span class="n">service_response</span><span class="o">.</span><span class="n">service_method_information</span><span class="o">.</span><span class="n">method_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">11</span>  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Response  : </span><span class="si">{</span><span class="n">service_response</span><span class="o">.</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">12</span>  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Server ID : </span><span class="si">{</span><span class="n">service_response</span><span class="o">.</span><span class="n">server_id</span><span class="o">.</span><span class="n">service_id</span><span class="o">.</span><span class="n">entity_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">13</span>  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Host      : </span><span class="si">{</span><span class="n">service_response</span><span class="o">.</span><span class="n">server_id</span><span class="o">.</span><span class="n">service_id</span><span class="o">.</span><span class="n">host_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">14</span>  <span class="nb">print</span><span class="p">()</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="c1"># generator, alternating returns &quot;echo&quot;, &quot;reverse&quot;</span>
<span class="linenos">17</span><span class="k">def</span><span class="w"> </span><span class="nf">generate_method_name</span><span class="p">():</span>
<span class="linenos">18</span>  <span class="n">methods</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;echo&quot;</span><span class="p">,</span> <span class="s2">&quot;reverse&quot;</span><span class="p">]</span>
<span class="linenos">19</span>  <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">20</span>    <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methods</span><span class="p">:</span>
<span class="linenos">21</span>      <span class="k">yield</span> <span class="n">method</span> 
<span class="linenos">22</span>
<span class="linenos">23</span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="linenos">24</span>  <span class="nb">print</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="linenos">25</span><span class="s2">    -----------------------</span>
<span class="linenos">26</span><span class="s2">     Python: MIRROR CLIENT</span>
<span class="linenos">27</span><span class="s2">    -----------------------</span>
<span class="linenos">28</span><span class="s2">  &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="linenos">29</span>          
<span class="linenos">30</span>  <span class="c1"># First, initialize the eCAL API.</span>
<span class="linenos">31</span>  <span class="n">ecal_core</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="s2">&quot;mirror client python&quot;</span><span class="p">)</span>
<span class="linenos">32</span>
<span class="linenos">33</span>  <span class="c1"># Print eCAL version and date.</span>
<span class="linenos">34</span>  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;eCAL </span><span class="si">{</span><span class="n">ecal_core</span><span class="o">.</span><span class="n">get_version_string</span><span class="p">()</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">ecal_core</span><span class="o">.</span><span class="n">get_version_date_string</span><span class="p">()</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="linenos">35</span>  <span class="n">ecal_core</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">ecal_core</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">Severity</span><span class="o">.</span><span class="n">WARNING</span><span class="p">,</span> <span class="n">ecal_core</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">SeverityLevel</span><span class="o">.</span><span class="n">LEVEL1</span><span class="p">,</span> <span class="s2">&quot;Waiting for a server&quot;</span><span class="p">);</span>
<span class="linenos">36</span>  
<span class="linenos">37</span>  <span class="c1"># Create a client for the &quot;mirror&quot; service</span>
<span class="linenos">38</span>  <span class="n">mirror_client</span> <span class="o">=</span> <span class="n">ecal_core</span><span class="o">.</span><span class="n">ServiceClient</span><span class="p">(</span><span class="s2">&quot;mirror&quot;</span><span class="p">)</span>
<span class="linenos">39</span>  
<span class="linenos">40</span>  <span class="c1"># Wait until the client is connected to a server,</span>
<span class="linenos">41</span>  <span class="c1"># so we don&#39;t call methods that are not available.</span>
<span class="linenos">42</span>  <span class="k">while</span> <span class="p">(</span><span class="ow">not</span> <span class="n">mirror_client</span><span class="o">.</span><span class="n">is_connected</span><span class="p">()):</span>
<span class="linenos">43</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Waiting for a service ...&quot;</span><span class="p">)</span>
<span class="linenos">44</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="linenos">45</span>
<span class="linenos">46</span>  <span class="c1"># Now that we are connected, we can set the process state to &quot;healthy&quot; and communicate the connection.</span>
<span class="linenos">47</span>  <span class="n">ecal_core</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">ecal_core</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">Severity</span><span class="o">.</span><span class="n">HEALTHY</span><span class="p">,</span> <span class="n">ecal_core</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">SeverityLevel</span><span class="o">.</span><span class="n">LEVEL1</span><span class="p">,</span> <span class="s2">&quot;Connected!&quot;</span><span class="p">);</span>
<span class="linenos">48</span>  
<span class="linenos">49</span>  <span class="c1"># instantiate the generator to switch between calls to &quot;echo&quot; and &quot;reverse&quot;.</span>
<span class="linenos">50</span>  <span class="n">method_generator</span> <span class="o">=</span> <span class="n">generate_method_name</span><span class="p">()</span>
<span class="linenos">51</span>
<span class="linenos">52</span>  <span class="c1"># idle and call service methods</span>
<span class="linenos">53</span>  <span class="k">while</span><span class="p">(</span><span class="n">ecal_core</span><span class="o">.</span><span class="n">ok</span><span class="p">()):</span>
<span class="linenos">54</span>
<span class="linenos">55</span>    <span class="c1"># We iterate now over all client instances and call the methods by name.</span>
<span class="linenos">56</span>    <span class="c1"># With this approach we have the option to filter out client instances that we don&#39;t want to call.</span>
<span class="linenos">57</span>
<span class="linenos">58</span>    <span class="n">service_request</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="s2">&quot;stressed&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
<span class="linenos">59</span>    <span class="n">service_method_name</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">method_generator</span><span class="p">)</span>
<span class="linenos">60</span>
<span class="linenos">61</span>    <span class="n">client_instances</span> <span class="o">=</span> <span class="n">mirror_client</span><span class="o">.</span><span class="n">get_client_instances</span><span class="p">()</span>
<span class="linenos">62</span>    <span class="k">for</span> <span class="n">client_instance</span> <span class="ow">in</span> <span class="n">client_instances</span><span class="p">:</span>
<span class="linenos">63</span>        
<span class="linenos">64</span>        <span class="c1"># There are three ways that a client can call the server</span>
<span class="linenos">65</span>        <span class="c1"># 1. Blocking, with a response </span>
<span class="linenos">66</span>        <span class="p">(</span><span class="n">ok</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span> <span class="o">=</span> <span class="n">client_instance</span><span class="o">.</span><span class="n">call_with_response</span><span class="p">(</span><span class="n">service_method_name</span><span class="p">,</span> <span class="n">service_request</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="linenos">67</span>        <span class="k">if</span> <span class="p">(</span><span class="n">response</span><span class="p">):</span>
<span class="linenos">68</span>          <span class="n">print_service_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="linenos">69</span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="linenos">70</span>
<span class="linenos">71</span>        <span class="c1"># 2. Blocking with callback</span>
<span class="linenos">72</span>        <span class="n">ok</span> <span class="o">=</span> <span class="n">client_instance</span><span class="o">.</span><span class="n">call_with_callback</span><span class="p">(</span><span class="n">service_method_name</span><span class="p">,</span> <span class="n">service_request</span><span class="p">,</span> <span class="n">print_service_response</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="linenos">73</span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="linenos">74</span>
<span class="linenos">75</span>        <span class="c1"># 3. Asynchronous with callback</span>
<span class="linenos">76</span>        <span class="n">ok</span> <span class="o">=</span> <span class="n">client_instance</span><span class="o">.</span><span class="n">call_with_callback_async</span><span class="p">(</span><span class="n">service_method_name</span><span class="p">,</span> <span class="n">service_request</span><span class="p">,</span> <span class="n">print_service_response</span><span class="p">)</span>
<span class="linenos">77</span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="linenos">78</span>
<span class="linenos">79</span>  <span class="k">del</span> <span class="n">mirror_client</span>
<span class="linenos">80</span>
<span class="linenos">81</span>  <span class="c1"># finalize eCAL API</span>
<span class="linenos">82</span>  <span class="n">ecal_core</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
<span class="linenos">83</span>
<span class="linenos">84</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">85</span>  <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-UHl0aG9uIChsZWdhY3kp" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-UHl0aG9uIChsZWdhY3kp" name="UHl0aG9uIChsZWdhY3kp" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="linenos"> 2</span><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="kn">import</span><span class="w"> </span><span class="nn">ecal.core.core</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ecal_core</span>
<span class="linenos"> 5</span><span class="kn">import</span><span class="w"> </span><span class="nn">ecal.core.service</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ecal_service</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="linenos"> 8</span>  <span class="c1"># print eCAL version and date</span>
<span class="linenos"> 9</span>  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;eCAL </span><span class="si">{}</span><span class="s2"> (</span><span class="si">{}</span><span class="s2">)</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ecal_core</span><span class="o">.</span><span class="n">getversion</span><span class="p">(),</span> <span class="n">ecal_core</span><span class="o">.</span><span class="n">getdate</span><span class="p">()))</span>
<span class="linenos">10</span>  
<span class="linenos">11</span>  <span class="c1"># initialize eCAL API</span>
<span class="linenos">12</span>  <span class="n">ecal_core</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="s2">&quot;py_minimal_service_client&quot;</span><span class="p">)</span>
<span class="linenos">13</span>  
<span class="linenos">14</span>  <span class="c1"># set process state</span>
<span class="linenos">15</span>  <span class="n">ecal_core</span><span class="o">.</span><span class="n">set_process_state</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;I feel good&quot;</span><span class="p">)</span>
<span class="linenos">16</span>
<span class="linenos">17</span>  <span class="c1"># create a client for the &quot;DemoService&quot; service</span>
<span class="linenos">18</span>  <span class="n">client</span> <span class="o">=</span> <span class="n">ecal_service</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s2">&quot;DemoService&quot;</span><span class="p">)</span>
<span class="linenos">19</span>
<span class="linenos">20</span>  <span class="c1"># define the client response callback to catch server responses</span>
<span class="linenos">21</span>  <span class="k">def</span><span class="w"> </span><span class="nf">client_resp_callback</span><span class="p">(</span><span class="n">service_info</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
<span class="linenos">22</span>    <span class="k">if</span> <span class="p">(</span><span class="n">service_info</span><span class="p">[</span><span class="s2">&quot;call_state&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;call_state_executed&quot;</span><span class="p">):</span>
<span class="linenos">23</span>      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&#39;DemoService&#39; method &#39;</span><span class="si">{}</span><span class="s2">&#39; responded : &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">service_info</span><span class="p">[</span><span class="s2">&quot;method_name&quot;</span><span class="p">],</span> <span class="n">response</span><span class="p">))</span>
<span class="linenos">24</span>      <span class="nb">print</span><span class="p">()</span>
<span class="linenos">25</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">26</span>      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;server </span><span class="si">{}</span><span class="s2"> response failed, error : &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">service_info</span><span class="p">[</span><span class="s2">&quot;host_name&quot;</span><span class="p">],</span> <span class="n">service_info</span><span class="p">[</span><span class="s2">&quot;error_msg&quot;</span><span class="p">]))</span>
<span class="linenos">27</span>      <span class="nb">print</span><span class="p">()</span>
<span class="linenos">28</span>
<span class="linenos">29</span>  <span class="c1"># and add it to the client</span>
<span class="linenos">30</span>  <span class="n">client</span><span class="o">.</span><span class="n">add_response_callback</span><span class="p">(</span><span class="n">client_resp_callback</span><span class="p">)</span>
<span class="linenos">31</span>
<span class="linenos">32</span>  <span class="c1"># idle and call service methods</span>
<span class="linenos">33</span>  <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">34</span>  <span class="k">while</span><span class="p">(</span><span class="n">ecal_core</span><span class="o">.</span><span class="n">ok</span><span class="p">()):</span>
<span class="linenos">35</span>    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
<span class="linenos">36</span>    <span class="c1"># call foo</span>
<span class="linenos">37</span>    <span class="n">request</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="s2">&quot;hello foo </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
<span class="linenos">38</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&#39;DemoService&#39; method &#39;foo&#39; requested with : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">request</span><span class="p">))</span>
<span class="linenos">39</span>    <span class="n">client</span><span class="o">.</span><span class="n">call_method</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>
<span class="linenos">40</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="linenos">41</span>    <span class="c1"># call ping</span>
<span class="linenos">42</span>    <span class="n">request</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="s2">&quot;ping number </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
<span class="linenos">43</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&#39;DemoService&#39; method &#39;ping&#39; requested with : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">request</span><span class="p">))</span>
<span class="linenos">44</span>    <span class="n">client</span><span class="o">.</span><span class="n">call_method</span><span class="p">(</span><span class="s2">&quot;ping&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>
<span class="linenos">45</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="linenos">46</span>
<span class="linenos">47</span>  <span class="c1"># destroy client</span>
<span class="linenos">48</span>  <span class="n">client</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
<span class="linenos">49</span>  
<span class="linenos">50</span>  <span class="c1"># finalize eCAL API</span>
<span class="linenos">51</span>  <span class="n">ecal_core</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
<span class="linenos">52</span>
<span class="linenos">53</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">54</span>  <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div></div>
<pre class="literal-block"><i class="far fa-folder-open"></i>
├─ <i class="far fa-folder-open"></i> C++
│  └─ <i class="far fa-file-alt"></i> <a class="reference download internal" download="" href="../../../_downloads/eb02bada414c55bd20d72af1145fafda/mirror_client.cpp"><code class="xref download docutils literal notranslate"><span class="pre">mirror_client.cpp</span></code></a>
│
├─ <i class="far fa-folder-open"></i> C
│  └─ <i class="far fa-file-alt"></i> <a class="reference download internal" download="" href="../../../_downloads/39509e6e7c12a7a5d76f41593e4425f3/mirror_client_c.c"><code class="xref download docutils literal notranslate"><span class="pre">mirror_client.c</span></code></a>
│
├─ <i class="far fa-folder-open"></i> C#
│  └─ <i class="far fa-file-alt"></i> <a class="reference download internal" download="" href="../../../_downloads/269ec5350cfa768734ab1a5d9735d693/mirror_client_csharp.cs"><code class="xref download docutils literal notranslate"><span class="pre">mirror_client.cs</span></code></a>
│
├─ <i class="far fa-folder-open"></i> Python
│  └─ <i class="far fa-file-alt"></i> <a class="reference download internal" download="" href="../../../_downloads/b5edfd43dd659e7d5dd162ea66a4bd32/nb_binary_mirror_client.py"><code class="xref download docutils literal notranslate"><span class="pre">mirror_client.py</span></code></a>
│
└─ <i class="far fa-folder-open"></i> Python (legacy)
   └─ <i class="far fa-file-alt"></i> <a class="reference download internal" download="" href="../../../_downloads/cff319da7435f49d4b0dbc9e30463bbb/minimal_service_client.py"><code class="xref download docutils literal notranslate"><span class="pre">mirror_client.py</span></code></a></pre>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../clientserver.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">7.3. </span>Service: Client &amp; Server</p>
      </div>
    </a>
    <a class="right-next"
       href="protobuf_math.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">7.3.2. </span>Protobuf: Math</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mirror-server">7.3.1.1. Mirror Server</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mirror-client">7.3.1.2. Mirror Client</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Author name not set
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025, Continental.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
<style>
    .links-container ul {
        list-style-type: none;
        padding: 0;
    }

    .links-container ul li {
        display: inline;
        margin-right: 10px;
    }

    .links-container ul li:last-child {
        margin-right: 0;
    }
</style>
<div class="links-container">
    <h5>Eclipse Foundation</h5>
    <ul>
        <li><a href="http://www.eclipse.org">Website</a></li>
        <li><a href="http://www.eclipse.org/legal/privacy.php">Privacy policy</a></li>
        <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
        <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright agent</a></li>
        <li><a href="http://www.eclipse.org/legal">Legal</a></li>
    </ul>
</div></div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>